<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1997-1998

\section[BasicTypes]{Miscellanous types}

This module defines a miscellaneously collection of very simple
types that

\begin{itemize}
\item have no other obvious home
\item don't depend on any other complicated types
\item are used in more than one &quot;part&quot; of the compiler
\end{itemize}
-}</span><span>
</span><a name="line-16"></a><span>
</span><a name="line-17"></a><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">BasicTypes</span><span class="hs-special">(</span><span>
</span><a name="line-20"></a><span>        </span><a href="BasicTypes.html#Version"><span class="hs-identifier hs-type">Version</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#bumpVersion"><span class="hs-identifier hs-var">bumpVersion</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#initialVersion"><span class="hs-identifier hs-var">initialVersion</span></a><span class="hs-special">,</span><span>
</span><a name="line-21"></a><span>
</span><a name="line-22"></a><span>        </span><a href="BasicTypes.html#ConTag"><span class="hs-identifier hs-type">ConTag</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#fIRST_TAG"><span class="hs-identifier hs-var">fIRST_TAG</span></a><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>
</span><a name="line-24"></a><span>        </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#RepArity"><span class="hs-identifier hs-type">RepArity</span></a><span class="hs-special">,</span><span>
</span><a name="line-25"></a><span>
</span><a name="line-26"></a><span>        </span><a href="BasicTypes.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>
</span><a name="line-28"></a><span>        </span><a href="BasicTypes.html#FunctionOrData"><span class="hs-identifier hs-type">FunctionOrData</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>
</span><a name="line-30"></a><span>        </span><a href="BasicTypes.html#WarningTxt"><span class="hs-identifier hs-type">WarningTxt</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span>        </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#FixityDirection"><span class="hs-identifier hs-type">FixityDirection</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-33"></a><span>        </span><a href="BasicTypes.html#defaultFixity"><span class="hs-identifier hs-var">defaultFixity</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#minPrecedence"><span class="hs-identifier hs-var">minPrecedence</span></a><span class="hs-special">,</span><span>
</span><a name="line-34"></a><span>        </span><a href="BasicTypes.html#negateFixity"><span class="hs-identifier hs-var">negateFixity</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#funTyFixity"><span class="hs-identifier hs-var">funTyFixity</span></a><span class="hs-special">,</span><span>
</span><a name="line-35"></a><span>        </span><a href="BasicTypes.html#compareFixity"><span class="hs-identifier hs-var">compareFixity</span></a><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>
</span><a name="line-37"></a><span>        </span><a href="BasicTypes.html#RecFlag"><span class="hs-identifier hs-type">RecFlag</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isRec"><span class="hs-identifier hs-var">isRec</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isNonRec"><span class="hs-identifier hs-var">isNonRec</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#boolToRecFlag"><span class="hs-identifier hs-var">boolToRecFlag</span></a><span class="hs-special">,</span><span>
</span><a name="line-38"></a><span>        </span><a href="BasicTypes.html#Origin"><span class="hs-identifier hs-type">Origin</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isGenerated"><span class="hs-identifier hs-var">isGenerated</span></a><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>
</span><a name="line-40"></a><span>        </span><a href="BasicTypes.html#RuleName"><span class="hs-identifier hs-type">RuleName</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#pprRuleName"><span class="hs-identifier hs-var">pprRuleName</span></a><span class="hs-special">,</span><span>
</span><a name="line-41"></a><span>
</span><a name="line-42"></a><span>        </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isTopLevel"><span class="hs-identifier hs-var">isTopLevel</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isNotTopLevel"><span class="hs-identifier hs-var">isNotTopLevel</span></a><span class="hs-special">,</span><span>
</span><a name="line-43"></a><span>
</span><a name="line-44"></a><span>        </span><a href="BasicTypes.html#OverlapFlag"><span class="hs-identifier hs-type">OverlapFlag</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#setOverlapModeMaybe"><span class="hs-identifier hs-var">setOverlapModeMaybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-45"></a><span>        </span><a href="BasicTypes.html#hasOverlappingFlag"><span class="hs-identifier hs-var">hasOverlappingFlag</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#hasOverlappableFlag"><span class="hs-identifier hs-var">hasOverlappableFlag</span></a><span class="hs-special">,</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span>        </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isBoxed"><span class="hs-identifier hs-var">isBoxed</span></a><span class="hs-special">,</span><span>
</span><a name="line-48"></a><span>
</span><a name="line-49"></a><span>        </span><a href="BasicTypes.html#TupleSort"><span class="hs-identifier hs-type">TupleSort</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#tupleSortBoxity"><span class="hs-identifier hs-var">tupleSortBoxity</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#boxityTupleSort"><span class="hs-identifier hs-var">boxityTupleSort</span></a><span class="hs-special">,</span><span>
</span><a name="line-50"></a><span>        </span><a href="BasicTypes.html#tupleParens"><span class="hs-identifier hs-var">tupleParens</span></a><span class="hs-special">,</span><span>
</span><a name="line-51"></a><span>
</span><a name="line-52"></a><span>        </span><span class="hs-comment">-- ** The OneShotInfo type</span><span>
</span><a name="line-53"></a><span>        </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-54"></a><span>        </span><a href="BasicTypes.html#noOneShotInfo"><span class="hs-identifier hs-var">noOneShotInfo</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#hasNoOneShotInfo"><span class="hs-identifier hs-var">hasNoOneShotInfo</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isOneShotInfo"><span class="hs-identifier hs-var">isOneShotInfo</span></a><span class="hs-special">,</span><span>
</span><a name="line-55"></a><span>        </span><a href="BasicTypes.html#bestOneShot"><span class="hs-identifier hs-var">bestOneShot</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#worstOneShot"><span class="hs-identifier hs-var">worstOneShot</span></a><span class="hs-special">,</span><span>
</span><a name="line-56"></a><span>
</span><a name="line-57"></a><span>        </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#seqOccInfo"><span class="hs-identifier hs-var">seqOccInfo</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#zapFragileOcc"><span class="hs-identifier hs-var">zapFragileOcc</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isOneOcc"><span class="hs-identifier hs-var">isOneOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-58"></a><span>        </span><a href="BasicTypes.html#isDeadOcc"><span class="hs-identifier hs-var">isDeadOcc</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isStrongLoopBreaker"><span class="hs-identifier hs-var">isStrongLoopBreaker</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isWeakLoopBreaker"><span class="hs-identifier hs-var">isWeakLoopBreaker</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isNoOcc"><span class="hs-identifier hs-var">isNoOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-59"></a><span>        </span><a href="BasicTypes.html#strongLoopBreaker"><span class="hs-identifier hs-var">strongLoopBreaker</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#weakLoopBreaker"><span class="hs-identifier hs-var">weakLoopBreaker</span></a><span class="hs-special">,</span><span>
</span><a name="line-60"></a><span>
</span><a name="line-61"></a><span>        </span><a href="BasicTypes.html#InsideLam"><span class="hs-identifier hs-type">InsideLam</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#insideLam"><span class="hs-identifier hs-var">insideLam</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#notInsideLam"><span class="hs-identifier hs-var">notInsideLam</span></a><span class="hs-special">,</span><span>
</span><a name="line-62"></a><span>        </span><a href="BasicTypes.html#OneBranch"><span class="hs-identifier hs-type">OneBranch</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#oneBranch"><span class="hs-identifier hs-var">oneBranch</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#notOneBranch"><span class="hs-identifier hs-var">notOneBranch</span></a><span class="hs-special">,</span><span>
</span><a name="line-63"></a><span>        </span><a href="BasicTypes.html#InterestingCxt"><span class="hs-identifier hs-type">InterestingCxt</span></a><span class="hs-special">,</span><span>
</span><a name="line-64"></a><span>
</span><a name="line-65"></a><span>        </span><a href="BasicTypes.html#EP"><span class="hs-identifier hs-type">EP</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-66"></a><span>
</span><a name="line-67"></a><span>        </span><a href="BasicTypes.html#DefMethSpec"><span class="hs-identifier hs-type">DefMethSpec</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-68"></a><span>        </span><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier hs-type">SwapFlag</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#flipSwap"><span class="hs-identifier hs-var">flipSwap</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#unSwap"><span class="hs-identifier hs-var">unSwap</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isSwapped"><span class="hs-identifier hs-var">isSwapped</span></a><span class="hs-special">,</span><span>
</span><a name="line-69"></a><span>
</span><a name="line-70"></a><span>        </span><a href="BasicTypes.html#CompilerPhase"><span class="hs-identifier hs-type">CompilerPhase</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#PhaseNum"><span class="hs-identifier hs-type">PhaseNum</span></a><span class="hs-special">,</span><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span>        </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isActive"><span class="hs-identifier hs-var">isActive</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isActiveIn"><span class="hs-identifier hs-var">isActiveIn</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#competesWith"><span class="hs-identifier hs-var">competesWith</span></a><span class="hs-special">,</span><span>
</span><a name="line-73"></a><span>        </span><a href="BasicTypes.html#isNeverActive"><span class="hs-identifier hs-var">isNeverActive</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isAlwaysActive"><span class="hs-identifier hs-var">isAlwaysActive</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isEarlyActive"><span class="hs-identifier hs-var">isEarlyActive</span></a><span class="hs-special">,</span><span>
</span><a name="line-74"></a><span>
</span><a name="line-75"></a><span>        </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isConLike"><span class="hs-identifier hs-var">isConLike</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isFunLike"><span class="hs-identifier hs-var">isFunLike</span></a><span class="hs-special">,</span><span>
</span><a name="line-76"></a><span>        </span><a href="BasicTypes.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isEmptyInlineSpec"><span class="hs-identifier hs-var">isEmptyInlineSpec</span></a><span class="hs-special">,</span><span>
</span><a name="line-77"></a><span>        </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#defaultInlinePragma"><span class="hs-identifier hs-var">defaultInlinePragma</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#alwaysInlinePragma"><span class="hs-identifier hs-var">alwaysInlinePragma</span></a><span class="hs-special">,</span><span>
</span><a name="line-78"></a><span>        </span><a href="BasicTypes.html#neverInlinePragma"><span class="hs-identifier hs-var">neverInlinePragma</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#dfunInlinePragma"><span class="hs-identifier hs-var">dfunInlinePragma</span></a><span class="hs-special">,</span><span>
</span><a name="line-79"></a><span>        </span><a href="BasicTypes.html#isDefaultInlinePragma"><span class="hs-identifier hs-var">isDefaultInlinePragma</span></a><span class="hs-special">,</span><span>
</span><a name="line-80"></a><span>        </span><a href="BasicTypes.html#isInlinePragma"><span class="hs-identifier hs-var">isInlinePragma</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isInlinablePragma"><span class="hs-identifier hs-var">isInlinablePragma</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isAnyInlinePragma"><span class="hs-identifier hs-var">isAnyInlinePragma</span></a><span class="hs-special">,</span><span>
</span><a name="line-81"></a><span>        </span><a href="BasicTypes.html#inlinePragmaSpec"><span class="hs-identifier hs-var">inlinePragmaSpec</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#inlinePragmaSat"><span class="hs-identifier hs-var">inlinePragmaSat</span></a><span class="hs-special">,</span><span>
</span><a name="line-82"></a><span>        </span><a href="BasicTypes.html#inlinePragmaActivation"><span class="hs-identifier hs-var">inlinePragmaActivation</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#inlinePragmaRuleMatchInfo"><span class="hs-identifier hs-var">inlinePragmaRuleMatchInfo</span></a><span class="hs-special">,</span><span>
</span><a name="line-83"></a><span>        </span><a href="BasicTypes.html#setInlinePragmaActivation"><span class="hs-identifier hs-var">setInlinePragmaActivation</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#setInlinePragmaRuleMatchInfo"><span class="hs-identifier hs-var">setInlinePragmaRuleMatchInfo</span></a><span class="hs-special">,</span><span>
</span><a name="line-84"></a><span>
</span><a name="line-85"></a><span>        </span><a href="BasicTypes.html#SuccessFlag"><span class="hs-identifier hs-type">SuccessFlag</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#succeeded"><span class="hs-identifier hs-var">succeeded</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#failed"><span class="hs-identifier hs-var">failed</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#successIf"><span class="hs-identifier hs-var">successIf</span></a><span class="hs-special">,</span><span>
</span><a name="line-86"></a><span>
</span><a name="line-87"></a><span>        </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#negateFractionalLit"><span class="hs-identifier hs-var">negateFractionalLit</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#integralFractionalLit"><span class="hs-identifier hs-var">integralFractionalLit</span></a><span class="hs-special">,</span><span>
</span><a name="line-88"></a><span>
</span><a name="line-89"></a><span>        </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">,</span><span>
</span><a name="line-90"></a><span>
</span><a name="line-91"></a><span>        </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#infinity"><span class="hs-identifier hs-var">infinity</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#treatZeroAsInf"><span class="hs-identifier hs-var">treatZeroAsInf</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#mkIntWithInf"><span class="hs-identifier hs-var">mkIntWithInf</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#intGtLimit"><span class="hs-identifier hs-var">intGtLimit</span></a><span>
</span><a name="line-92"></a><span>   </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span class="hs-keyword">import</span><span> </span><a href="FastString.html"><span class="hs-identifier">FastString</span></a><span>
</span><a name="line-95"></a><span class="hs-keyword">import</span><span> </span><a href="Outputable.html"><span class="hs-identifier">Outputable</span></a><span>
</span><a name="line-96"></a><span class="hs-keyword">import</span><span> </span><a href="SrcLoc.html"><span class="hs-identifier">SrcLoc</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span class="hs-special">,</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-97"></a><span class="hs-keyword">import</span><span> </span><a href="StaticFlags.html"><span class="hs-identifier">StaticFlags</span></a><span class="hs-special">(</span><span> </span><a href="StaticFlags.html#opt_PprStyle_Debug"><span class="hs-identifier hs-var">opt_PprStyle_Debug</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-98"></a><span class="hs-keyword">import</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Data</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">)</span><span>
</span><a name="line-99"></a><span class="hs-keyword">import</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Function.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Function</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Function.html#on"><span class="hs-identifier hs-var">on</span></a><span class="hs-special">)</span><span>
</span><a name="line-100"></a><span>
</span><a name="line-101"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Arity]{Arity}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-108"></a><span>
</span><a name="line-109"></a><span class="hs-comment">-- | The number of value arguments that can be applied to a value before it does</span><span>
</span><a name="line-110"></a><span class="hs-comment">-- &quot;real work&quot;. So:</span><span>
</span><a name="line-111"></a><span class="hs-comment">--  fib 100     has arity 0</span><span>
</span><a name="line-112"></a><span class="hs-comment">--  \x -&gt; fib x has arity 1</span><span>
</span><a name="line-113"></a><span class="hs-keyword">type</span><span> </span><a name="Arity"><a href="BasicTypes.html#Arity"><span class="hs-identifier">Arity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-114"></a><span>
</span><a name="line-115"></a><span class="hs-comment">-- | The number of represented arguments that can be applied to a value before it does</span><span>
</span><a name="line-116"></a><span class="hs-comment">-- &quot;real work&quot;. So:</span><span>
</span><a name="line-117"></a><span class="hs-comment">--  fib 100                    has representation arity 0</span><span>
</span><a name="line-118"></a><span class="hs-comment">--  \x -&gt; fib x                has representation arity 1</span><span>
</span><a name="line-119"></a><span class="hs-comment">--  \(# x, y #) -&gt; fib (x + y) has representation arity 2</span><span>
</span><a name="line-120"></a><span class="hs-keyword">type</span><span> </span><a name="RepArity"><a href="BasicTypes.html#RepArity"><span class="hs-identifier">RepArity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-121"></a><span>
</span><a name="line-122"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
              Constructor tags
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-129"></a><span>
</span><a name="line-130"></a><span class="hs-comment">-- | Type of the tags associated with each constructor possibility</span><span>
</span><a name="line-131"></a><span class="hs-comment">--   or superclass selector</span><span>
</span><a name="line-132"></a><span class="hs-keyword">type</span><span> </span><a name="ConTag"><a href="BasicTypes.html#ConTag"><span class="hs-identifier">ConTag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-133"></a><span>
</span><a name="line-134"></a><span class="hs-identifier">fIRST_TAG</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#ConTag"><span class="hs-identifier hs-type">ConTag</span></a><span>
</span><a name="line-135"></a><span class="hs-comment">-- ^ Tags are allocated from here for real constructors</span><span>
</span><a name="line-136"></a><span class="hs-comment">--   or for superclass selectors</span><span>
</span><a name="line-137"></a><a name="fIRST_TAG"><a href="BasicTypes.html#fIRST_TAG"><span class="hs-identifier">fIRST_TAG</span></a></a><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-number">1</span><span>
</span><a name="line-138"></a><span>
</span><a name="line-139"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Alignment]{Alignment}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-146"></a><span>
</span><a name="line-147"></a><span class="hs-keyword">type</span><span> </span><a name="Alignment"><a href="BasicTypes.html#Alignment"><span class="hs-identifier">Alignment</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-comment">-- align to next N-byte boundary (N must be a power of 2).</span><span>
</span><a name="line-148"></a><span>
</span><a name="line-149"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
         One-shot information
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-156"></a><span>
</span><a name="line-157"></a><span class="hs-comment">-- | If the 'Id' is a lambda-bound variable then it may have lambda-bound</span><span>
</span><a name="line-158"></a><span class="hs-comment">-- variable info. Sometimes we know whether the lambda binding this variable</span><span>
</span><a name="line-159"></a><span class="hs-comment">-- is a \&quot;one-shot\&quot; lambda; that is, whether it is applied at most once.</span><span>
</span><a name="line-160"></a><span class="hs-comment">--</span><span>
</span><a name="line-161"></a><span class="hs-comment">-- This information may be useful in optimisation, as computations may</span><span>
</span><a name="line-162"></a><span class="hs-comment">-- safely be floated inside such a lambda without risk of duplicating</span><span>
</span><a name="line-163"></a><span class="hs-comment">-- work.</span><span>
</span><a name="line-164"></a><span class="hs-keyword">data</span><span> </span><a name="OneShotInfo"><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier">OneShotInfo</span></a></a><span>
</span><a name="line-165"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NoOneShotInfo"><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier">NoOneShotInfo</span></a></a><span> </span><span class="hs-comment">-- ^ No information</span><span>
</span><a name="line-166"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ProbOneShot"><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier">ProbOneShot</span></a></a><span>   </span><span class="hs-comment">-- ^ The lambda is probably applied at most once</span><span>
</span><a name="line-167"></a><span>                  </span><span class="hs-comment">-- See Note [Computing one-shot info, and ProbOneShot] in Demand</span><span>
</span><a name="line-168"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="OneShotLam"><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier">OneShotLam</span></a></a><span>    </span><span class="hs-comment">-- ^ The lambda is applied at most once.</span><span>
</span><a name="line-169"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">)</span><span>
</span><a name="line-170"></a><span>
</span><a name="line-171"></a><span class="hs-comment">-- | It is always safe to assume that an 'Id' has no lambda-bound variable information</span><span>
</span><a name="line-172"></a><span class="hs-identifier">noOneShotInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span>
</span><a name="line-173"></a><a name="noOneShotInfo"><a href="BasicTypes.html#noOneShotInfo"><span class="hs-identifier">noOneShotInfo</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span>
</span><a name="line-174"></a><span>
</span><a name="line-175"></a><span class="hs-identifier">isOneShotInfo</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hasNoOneShotInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-176"></a><a name="isOneShotInfo"><a href="BasicTypes.html#isOneShotInfo"><span class="hs-identifier">isOneShotInfo</span></a></a><span> </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-177"></a><span class="hs-identifier">isOneShotInfo</span><span> </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-178"></a><span>
</span><a name="line-179"></a><a name="hasNoOneShotInfo"><a href="BasicTypes.html#hasNoOneShotInfo"><span class="hs-identifier">hasNoOneShotInfo</span></a></a><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-180"></a><span class="hs-identifier">hasNoOneShotInfo</span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-181"></a><span>
</span><a name="line-182"></a><span class="hs-identifier">worstOneShot</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">bestOneShot</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span>
</span><a name="line-183"></a><a name="worstOneShot"><a href="BasicTypes.html#worstOneShot"><span class="hs-identifier">worstOneShot</span></a></a><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span>
</span><a name="line-184"></a><span class="hs-identifier">worstOneShot</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>   </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span>
</span><a name="line-185"></a><span class="hs-identifier">worstOneShot</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>   </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>
</span><a name="line-186"></a><span class="hs-identifier">worstOneShot</span><span> </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span>    </span><a name="local-1627489432"><a href="#local-1627489432"><span class="hs-identifier">os</span></a></a><span>            </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489432"><span class="hs-identifier hs-var">os</span></a><span>
</span><a name="line-187"></a><span>
</span><a name="line-188"></a><a name="bestOneShot"><a href="BasicTypes.html#bestOneShot"><span class="hs-identifier">bestOneShot</span></a></a><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span> </span><a name="local-1627489433"><a href="#local-1627489433"><span class="hs-identifier">os</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489433"><span class="hs-identifier hs-var">os</span></a><span>
</span><a name="line-189"></a><span class="hs-identifier">bestOneShot</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>   </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span>
</span><a name="line-190"></a><span class="hs-identifier">bestOneShot</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>   </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>
</span><a name="line-191"></a><span class="hs-identifier">bestOneShot</span><span> </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span>    </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span>
</span><a name="line-192"></a><span>
</span><a name="line-193"></a><span class="hs-identifier">pprOneShotInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-194"></a><a name="pprOneShotInfo"><a href="BasicTypes.html#pprOneShotInfo"><span class="hs-identifier">pprOneShotInfo</span></a></a><span> </span><a href="BasicTypes.html#NoOneShotInfo"><span class="hs-identifier hs-var">NoOneShotInfo</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-195"></a><span class="hs-identifier">pprOneShotInfo</span><span> </span><a href="BasicTypes.html#ProbOneShot"><span class="hs-identifier hs-var">ProbOneShot</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;ProbOneShot&quot;</span><span>
</span><a name="line-196"></a><span class="hs-identifier">pprOneShotInfo</span><span> </span><a href="BasicTypes.html#OneShotLam"><span class="hs-identifier hs-var">OneShotLam</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;OneShot&quot;</span><span>
</span><a name="line-197"></a><span>
</span><a name="line-198"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#OneShotInfo"><span class="hs-identifier hs-type">OneShotInfo</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-199"></a><span>    </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#pprOneShotInfo"><span class="hs-identifier hs-var">pprOneShotInfo</span></a><span>
</span><a name="line-200"></a><span>
</span><a name="line-201"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
           Swap flag
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-208"></a><span>
</span><a name="line-209"></a><span class="hs-keyword">data</span><span> </span><a name="SwapFlag"><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier">SwapFlag</span></a></a><span>
</span><a name="line-210"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NotSwapped"><a href="BasicTypes.html#NotSwapped"><span class="hs-identifier">NotSwapped</span></a></a><span>  </span><span class="hs-comment">-- Args are: actual,   expected</span><span>
</span><a name="line-211"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="IsSwapped"><a href="BasicTypes.html#IsSwapped"><span class="hs-identifier">IsSwapped</span></a></a><span>   </span><span class="hs-comment">-- Args are: expected, actual</span><span>
</span><a name="line-212"></a><span>
</span><a name="line-213"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier hs-type">SwapFlag</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-214"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#IsSwapped"><span class="hs-identifier hs-var">IsSwapped</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Is-swapped&quot;</span><span>
</span><a name="line-215"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#NotSwapped"><span class="hs-identifier hs-var">NotSwapped</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Not-swapped&quot;</span><span>
</span><a name="line-216"></a><span>
</span><a name="line-217"></a><span class="hs-identifier">flipSwap</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier hs-type">SwapFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier hs-type">SwapFlag</span></a><span>
</span><a name="line-218"></a><a name="flipSwap"><a href="BasicTypes.html#flipSwap"><span class="hs-identifier">flipSwap</span></a></a><span> </span><a href="BasicTypes.html#IsSwapped"><span class="hs-identifier hs-var">IsSwapped</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NotSwapped"><span class="hs-identifier hs-var">NotSwapped</span></a><span>
</span><a name="line-219"></a><span class="hs-identifier">flipSwap</span><span> </span><a href="BasicTypes.html#NotSwapped"><span class="hs-identifier hs-var">NotSwapped</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#IsSwapped"><span class="hs-identifier hs-var">IsSwapped</span></a><span>
</span><a name="line-220"></a><span>
</span><a name="line-221"></a><span class="hs-identifier">isSwapped</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier hs-type">SwapFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-222"></a><a name="isSwapped"><a href="BasicTypes.html#isSwapped"><span class="hs-identifier">isSwapped</span></a></a><span> </span><a href="BasicTypes.html#IsSwapped"><span class="hs-identifier hs-var">IsSwapped</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-223"></a><span class="hs-identifier">isSwapped</span><span> </span><a href="BasicTypes.html#NotSwapped"><span class="hs-identifier hs-var">NotSwapped</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-224"></a><span>
</span><a name="line-225"></a><span class="hs-identifier">unSwap</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SwapFlag"><span class="hs-identifier hs-type">SwapFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-1627489430"><span class="hs-identifier hs-type">a</span></a><span class="hs-glyph">-&gt;</span><a href="#local-1627489430"><span class="hs-identifier hs-type">a</span></a><span class="hs-glyph">-&gt;</span><a href="#local-1627489431"><span class="hs-identifier hs-type">b</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489430"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489430"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489431"><span class="hs-identifier hs-type">b</span></a><span>
</span><a name="line-226"></a><a name="unSwap"><a href="BasicTypes.html#unSwap"><span class="hs-identifier">unSwap</span></a></a><span> </span><a href="BasicTypes.html#NotSwapped"><span class="hs-identifier hs-var">NotSwapped</span></a><span> </span><a name="local-1627489434"><a href="#local-1627489434"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-1627489435"><a href="#local-1627489435"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-1627489436"><a href="#local-1627489436"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489434"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-1627489435"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="#local-1627489436"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-227"></a><span class="hs-identifier">unSwap</span><span> </span><a href="BasicTypes.html#IsSwapped"><span class="hs-identifier hs-var">IsSwapped</span></a><span>  </span><a name="local-1627489437"><a href="#local-1627489437"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-1627489438"><a href="#local-1627489438"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-1627489439"><a href="#local-1627489439"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489437"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-1627489439"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="#local-1627489438"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[FunctionOrData]{FunctionOrData}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-236"></a><span>
</span><a name="line-237"></a><span class="hs-keyword">data</span><span> </span><a name="FunctionOrData"><a href="BasicTypes.html#FunctionOrData"><span class="hs-identifier">FunctionOrData</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="IsFunction"><a href="BasicTypes.html#IsFunction"><span class="hs-identifier">IsFunction</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="IsData"><a href="BasicTypes.html#IsData"><span class="hs-identifier">IsData</span></a></a><span>
</span><a name="line-238"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-239"></a><span>
</span><a name="line-240"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#FunctionOrData"><span class="hs-identifier hs-type">FunctionOrData</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-241"></a><span>    </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#IsFunction"><span class="hs-identifier hs-var">IsFunction</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;(function)&quot;</span><span>
</span><a name="line-242"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#IsData"><span class="hs-identifier hs-var">IsData</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;(data)&quot;</span><span>
</span><a name="line-243"></a><span>
</span><a name="line-244"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Version]{Module and identifier version numbers}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-251"></a><span>
</span><a name="line-252"></a><span class="hs-keyword">type</span><span> </span><a name="Version"><a href="BasicTypes.html#Version"><span class="hs-identifier">Version</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-253"></a><span>
</span><a name="line-254"></a><span class="hs-identifier">bumpVersion</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Version"><span class="hs-identifier hs-type">Version</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Version"><span class="hs-identifier hs-type">Version</span></a><span>
</span><a name="line-255"></a><a name="bumpVersion"><a href="BasicTypes.html#bumpVersion"><span class="hs-identifier">bumpVersion</span></a></a><span> </span><a name="local-1627489440"><a href="#local-1627489440"><span class="hs-identifier">v</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489440"><span class="hs-identifier hs-var">v</span></a><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a><span class="hs-number">1</span><span>
</span><a name="line-256"></a><span>
</span><a name="line-257"></a><span class="hs-identifier">initialVersion</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Version"><span class="hs-identifier hs-type">Version</span></a><span>
</span><a name="line-258"></a><a name="initialVersion"><a href="BasicTypes.html#initialVersion"><span class="hs-identifier">initialVersion</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><a name="line-259"></a><span>
</span><a name="line-260"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Deprecations
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-267"></a><span>
</span><a name="line-268"></a><span class="hs-comment">-- |A String Literal in the source, including its original raw format for use by</span><span>
</span><a name="line-269"></a><span class="hs-comment">-- source to source manipulation tools.</span><span>
</span><a name="line-270"></a><span class="hs-keyword">data</span><span> </span><a name="StringLiteral"><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier">StringLiteral</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="StringLiteral"><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier">StringLiteral</span></a></a><span>
</span><a name="line-271"></a><span>                       </span><span class="hs-special">{</span><span> </span><a href="BasicTypes.html#sl_st"><span class="hs-identifier">sl_st</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">,</span><span> </span><span class="hs-comment">-- literal raw source.</span><span>
</span><a name="line-272"></a><span>                                              </span><span class="hs-comment">-- See not [Literal source text]</span><span>
</span><a name="line-273"></a><span>                         </span><a href="BasicTypes.html#sl_fs"><span class="hs-identifier">sl_fs</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>  </span><span class="hs-comment">-- literal string value</span><span>
</span><a name="line-274"></a><span>                       </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-275"></a><span>
</span><a name="line-276"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-277"></a><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-var">StringLiteral</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489527"><a href="#local-1627489527"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><a name="local-805306535"><span class="hs-operator">==</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-var">StringLiteral</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489528"><a href="#local-1627489528"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489527"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-1627489528"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-278"></a><span>
</span><a name="line-279"></a><span class="hs-comment">-- reason/explanation from a WARNING or DEPRECATED pragma</span><span>
</span><a name="line-280"></a><span class="hs-keyword">data</span><span> </span><a name="WarningTxt"><a href="BasicTypes.html#WarningTxt"><span class="hs-identifier">WarningTxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="WarningTxt"><a href="BasicTypes.html#WarningTxt"><span class="hs-identifier">WarningTxt</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">)</span><span>
</span><a name="line-281"></a><span>                             </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span class="hs-special">]</span><span>
</span><a name="line-282"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a name="DeprecatedTxt"><a href="BasicTypes.html#DeprecatedTxt"><span class="hs-identifier">DeprecatedTxt</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span class="hs-special">)</span><span>
</span><a name="line-283"></a><span>                                </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="BasicTypes.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a><span class="hs-special">]</span><span>
</span><a name="line-284"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-285"></a><span>
</span><a name="line-286"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#WarningTxt"><span class="hs-identifier hs-type">WarningTxt</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-287"></a><span>    </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#WarningTxt"><span class="hs-identifier hs-var">WarningTxt</span></a><span>    </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489525"><a href="#local-1627489525"><span class="hs-identifier">ws</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-288"></a><span>                         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><span class="hs-identifier">sl_fs</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627489525"><span class="hs-identifier hs-var">ws</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-289"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#DeprecatedTxt"><span class="hs-identifier hs-var">DeprecatedTxt</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489526"><a href="#local-1627489526"><span class="hs-identifier">ds</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-290"></a><span>                         </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Deprecated:&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span>
</span><a name="line-291"></a><span>                           </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><span class="hs-identifier">sl_fs</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-1627489526"><span class="hs-identifier hs-var">ds</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-292"></a><span>
</span><a name="line-293"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Rules
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-300"></a><span>
</span><a name="line-301"></a><span class="hs-keyword">type</span><span> </span><a name="RuleName"><a href="BasicTypes.html#RuleName"><span class="hs-identifier">RuleName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-302"></a><span>
</span><a name="line-303"></a><span class="hs-identifier">pprRuleName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#RuleName"><span class="hs-identifier hs-type">RuleName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-304"></a><a name="pprRuleName"><a href="BasicTypes.html#pprRuleName"><span class="hs-identifier">pprRuleName</span></a></a><span> </span><a name="local-1627489441"><a href="#local-1627489441"><span class="hs-identifier">rn</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#doubleQuotes"><span class="hs-identifier hs-var">doubleQuotes</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-1627489441"><span class="hs-identifier hs-var">rn</span></a><span class="hs-special">)</span><span>
</span><a name="line-305"></a><span>
</span><a name="line-306"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Fixity]{Fixity info}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-313"></a><span>
</span><a name="line-314"></a><span class="hs-comment">------------------------</span><span>
</span><a name="line-315"></a><span class="hs-keyword">data</span><span> </span><a name="Fixity"><a href="BasicTypes.html#Fixity"><span class="hs-identifier">Fixity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Fixity"><a href="BasicTypes.html#Fixity"><span class="hs-identifier">Fixity</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><a href="BasicTypes.html#FixityDirection"><span class="hs-identifier hs-type">FixityDirection</span></a><span>
</span><a name="line-316"></a><span>  </span><span class="hs-comment">-- Note [Pragma source text]</span><span>
</span><a name="line-317"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-318"></a><span>
</span><a name="line-319"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-320"></a><span>    </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489523"><a href="#local-1627489523"><span class="hs-identifier">prec</span></a></a><span> </span><a name="local-1627489524"><a href="#local-1627489524"><span class="hs-identifier">dir</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hcat"><span class="hs-identifier hs-var">hcat</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627489524"><span class="hs-identifier hs-var">dir</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#int"><span class="hs-identifier hs-var">int</span></a><span> </span><a href="#local-1627489523"><span class="hs-identifier hs-var">prec</span></a><span class="hs-special">]</span><span>
</span><a name="line-321"></a><span>
</span><a name="line-322"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-comment">-- Used to determine if two fixities conflict</span><span>
</span><a name="line-323"></a><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489519"><a href="#local-1627489519"><span class="hs-identifier">p1</span></a></a><span> </span><a name="local-1627489520"><a href="#local-1627489520"><span class="hs-identifier">dir1</span></a></a><span class="hs-special">)</span><span> </span><a name="local-805306535"><span class="hs-operator">==</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489521"><a href="#local-1627489521"><span class="hs-identifier">p2</span></a></a><span> </span><a name="local-1627489522"><a href="#local-1627489522"><span class="hs-identifier">dir2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489519"><span class="hs-identifier hs-var">p1</span></a><span class="hs-operator hs-var">==</span><a href="#local-1627489521"><span class="hs-identifier hs-var">p2</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="#local-1627489520"><span class="hs-identifier hs-var">dir1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-1627489522"><span class="hs-identifier hs-var">dir2</span></a><span>
</span><a name="line-324"></a><span>
</span><a name="line-325"></a><span class="hs-comment">------------------------</span><span>
</span><a name="line-326"></a><span class="hs-keyword">data</span><span> </span><a name="FixityDirection"><a href="BasicTypes.html#FixityDirection"><span class="hs-identifier">FixityDirection</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="InfixL"><a href="BasicTypes.html#InfixL"><span class="hs-identifier">InfixL</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="InfixR"><a href="BasicTypes.html#InfixR"><span class="hs-identifier">InfixR</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="InfixN"><a href="BasicTypes.html#InfixN"><span class="hs-identifier">InfixN</span></a></a><span>
</span><a name="line-327"></a><span>                     </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-328"></a><span>
</span><a name="line-329"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#FixityDirection"><span class="hs-identifier hs-type">FixityDirection</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-330"></a><span>    </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#InfixL"><span class="hs-identifier hs-var">InfixL</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;infixl&quot;</span><span>
</span><a name="line-331"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#InfixR"><span class="hs-identifier hs-var">InfixR</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;infixr&quot;</span><span>
</span><a name="line-332"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#InfixN"><span class="hs-identifier hs-var">InfixN</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;infix&quot;</span><span>
</span><a name="line-333"></a><span>
</span><a name="line-334"></a><span class="hs-comment">------------------------</span><span>
</span><a name="line-335"></a><span class="hs-identifier">maxPrecedence</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">minPrecedence</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-336"></a><a name="maxPrecedence"><a href="BasicTypes.html#maxPrecedence"><span class="hs-identifier">maxPrecedence</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">9</span><span>
</span><a name="line-337"></a><a name="minPrecedence"><a href="BasicTypes.html#minPrecedence"><span class="hs-identifier">minPrecedence</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-338"></a><span>
</span><a name="line-339"></a><span class="hs-identifier">defaultFixity</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span>
</span><a name="line-340"></a><a name="defaultFixity"><a href="BasicTypes.html#defaultFixity"><span class="hs-identifier">defaultFixity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="BasicTypes.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a><span class="hs-special">)</span><span> </span><a href="BasicTypes.html#maxPrecedence"><span class="hs-identifier hs-var">maxPrecedence</span></a><span> </span><a href="BasicTypes.html#InfixL"><span class="hs-identifier hs-var">InfixL</span></a><span>
</span><a name="line-341"></a><span>
</span><a name="line-342"></a><span class="hs-identifier">negateFixity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">funTyFixity</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span>
</span><a name="line-343"></a><span class="hs-comment">-- Wired-in fixities</span><span>
</span><a name="line-344"></a><a name="negateFixity"><a href="BasicTypes.html#negateFixity"><span class="hs-identifier">negateFixity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-string">&quot;6&quot;</span><span> </span><span class="hs-number">6</span><span> </span><a href="BasicTypes.html#InfixL"><span class="hs-identifier hs-var">InfixL</span></a><span>  </span><span class="hs-comment">-- Fixity of unary negate</span><span>
</span><a name="line-345"></a><a name="funTyFixity"><a href="BasicTypes.html#funTyFixity"><span class="hs-identifier">funTyFixity</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-string">&quot;0&quot;</span><span> </span><span class="hs-number">0</span><span> </span><a href="BasicTypes.html#InfixR"><span class="hs-identifier hs-var">InfixR</span></a><span>  </span><span class="hs-comment">-- Fixity of '-&gt;'</span><span>
</span><a name="line-346"></a><span>
</span><a name="line-347"></a><span class="hs-comment">{-
Consider

\begin{verbatim}
        a `op1` b `op2` c
\end{verbatim}
@(compareFixity op1 op2)@ tells which way to arrange appication, or
whether there's an error.
-}</span><span>
</span><a name="line-356"></a><span>
</span><a name="line-357"></a><span class="hs-identifier">compareFixity</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span>
</span><a name="line-358"></a><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Bool</span><span class="hs-special">,</span><span>         </span><span class="hs-comment">-- Error please</span><span>
</span><a name="line-359"></a><span>                  </span><span class="hs-identifier hs-type">Bool</span><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- Associate to the right: a op1 (b op2 c)</span><span>
</span><a name="line-360"></a><a name="compareFixity"><a href="BasicTypes.html#compareFixity"><span class="hs-identifier">compareFixity</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489442"><a href="#local-1627489442"><span class="hs-identifier">prec1</span></a></a><span> </span><a name="local-1627489443"><a href="#local-1627489443"><span class="hs-identifier">dir1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Fixity"><span class="hs-identifier hs-var">Fixity</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489444"><a href="#local-1627489444"><span class="hs-identifier">prec2</span></a></a><span> </span><a name="local-1627489445"><a href="#local-1627489445"><span class="hs-identifier">dir2</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-361"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-1627489442"><span class="hs-identifier hs-var">prec1</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">compare</span><span class="hs-special">`</span><span> </span><a href="#local-1627489444"><span class="hs-identifier hs-var">prec2</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-362"></a><span>        </span><span class="hs-identifier hs-var">GT</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489447"><span class="hs-identifier hs-var">left</span></a><span>
</span><a name="line-363"></a><span>        </span><span class="hs-identifier hs-var">LT</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489446"><span class="hs-identifier hs-var">right</span></a><span>
</span><a name="line-364"></a><span>        </span><span class="hs-identifier hs-var">EQ</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><a href="#local-1627489443"><span class="hs-identifier hs-var">dir1</span></a><span class="hs-special">,</span><span> </span><a href="#local-1627489445"><span class="hs-identifier hs-var">dir2</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-365"></a><span>                        </span><span class="hs-special">(</span><a href="BasicTypes.html#InfixR"><span class="hs-identifier hs-var">InfixR</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#InfixR"><span class="hs-identifier hs-var">InfixR</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489446"><span class="hs-identifier hs-var">right</span></a><span>
</span><a name="line-366"></a><span>                        </span><span class="hs-special">(</span><a href="BasicTypes.html#InfixL"><span class="hs-identifier hs-var">InfixL</span></a><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#InfixL"><span class="hs-identifier hs-var">InfixL</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489447"><span class="hs-identifier hs-var">left</span></a><span>
</span><a name="line-367"></a><span>                        </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-1627489448"><span class="hs-identifier hs-var">error_please</span></a><span>
</span><a name="line-368"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-369"></a><span>    </span><a name="local-1627489446"><a href="#local-1627489446"><span class="hs-identifier">right</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">False</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">True</span><span class="hs-special">)</span><span>
</span><a name="line-370"></a><span>    </span><a name="local-1627489447"><a href="#local-1627489447"><span class="hs-identifier">left</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">False</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span>
</span><a name="line-371"></a><span>    </span><a name="local-1627489448"><a href="#local-1627489448"><span class="hs-identifier">error_please</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">True</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span>
</span><a name="line-372"></a><span>
</span><a name="line-373"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Top-level/local]{Top-level/not-top level flag}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-380"></a><span>
</span><a name="line-381"></a><span class="hs-keyword">data</span><span> </span><a name="TopLevelFlag"><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier">TopLevelFlag</span></a></a><span>
</span><a name="line-382"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="TopLevel"><a href="BasicTypes.html#TopLevel"><span class="hs-identifier">TopLevel</span></a></a><span>
</span><a name="line-383"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="NotTopLevel"><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier">NotTopLevel</span></a></a><span>
</span><a name="line-384"></a><span>
</span><a name="line-385"></a><span class="hs-identifier">isTopLevel</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">isNotTopLevel</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-386"></a><span>
</span><a name="line-387"></a><a name="isNotTopLevel"><a href="BasicTypes.html#isNotTopLevel"><span class="hs-identifier">isNotTopLevel</span></a></a><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-388"></a><span class="hs-identifier">isNotTopLevel</span><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-389"></a><span>
</span><a name="line-390"></a><a name="isTopLevel"><a href="BasicTypes.html#isTopLevel"><span class="hs-identifier">isTopLevel</span></a></a><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-391"></a><span class="hs-identifier">isTopLevel</span><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-392"></a><span>
</span><a name="line-393"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-394"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#TopLevel"><span class="hs-identifier hs-var">TopLevel</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&lt;TopLevel&gt;&quot;</span><span>
</span><a name="line-395"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#NotTopLevel"><span class="hs-identifier hs-var">NotTopLevel</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;&lt;NotTopLevel&gt;&quot;</span><span>
</span><a name="line-396"></a><span>
</span><a name="line-397"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Boxity flag
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-404"></a><span>
</span><a name="line-405"></a><span class="hs-keyword">data</span><span> </span><a name="Boxity"><a href="BasicTypes.html#Boxity"><span class="hs-identifier">Boxity</span></a></a><span>
</span><a name="line-406"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Boxed"><a href="BasicTypes.html#Boxed"><span class="hs-identifier">Boxed</span></a></a><span>
</span><a name="line-407"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Unboxed"><a href="BasicTypes.html#Unboxed"><span class="hs-identifier">Unboxed</span></a></a><span>
</span><a name="line-408"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-409"></a><span>
</span><a name="line-410"></a><span class="hs-identifier">isBoxed</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-411"></a><a name="isBoxed"><a href="BasicTypes.html#isBoxed"><span class="hs-identifier">isBoxed</span></a></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-412"></a><span class="hs-identifier">isBoxed</span><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-413"></a><span>
</span><a name="line-414"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-415"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Boxed&quot;</span><span>
</span><a name="line-416"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Unboxed&quot;</span><span>
</span><a name="line-417"></a><span>
</span><a name="line-418"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Recursive/Non-Recursive flag
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-425"></a><span>
</span><a name="line-426"></a><span class="hs-keyword">data</span><span> </span><a name="RecFlag"><a href="BasicTypes.html#RecFlag"><span class="hs-identifier">RecFlag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Recursive"><a href="BasicTypes.html#Recursive"><span class="hs-identifier">Recursive</span></a></a><span>
</span><a name="line-427"></a><span>             </span><span class="hs-glyph">|</span><span> </span><a name="NonRecursive"><a href="BasicTypes.html#NonRecursive"><span class="hs-identifier">NonRecursive</span></a></a><span>
</span><a name="line-428"></a><span>             </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-429"></a><span>
</span><a name="line-430"></a><span class="hs-identifier">isRec</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#RecFlag"><span class="hs-identifier hs-type">RecFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-431"></a><a name="isRec"><a href="BasicTypes.html#isRec"><span class="hs-identifier">isRec</span></a></a><span> </span><a href="BasicTypes.html#Recursive"><span class="hs-identifier hs-var">Recursive</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-432"></a><span class="hs-identifier">isRec</span><span> </span><a href="BasicTypes.html#NonRecursive"><span class="hs-identifier hs-var">NonRecursive</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-433"></a><span>
</span><a name="line-434"></a><span class="hs-identifier">isNonRec</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#RecFlag"><span class="hs-identifier hs-type">RecFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-435"></a><a name="isNonRec"><a href="BasicTypes.html#isNonRec"><span class="hs-identifier">isNonRec</span></a></a><span> </span><a href="BasicTypes.html#Recursive"><span class="hs-identifier hs-var">Recursive</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-436"></a><span class="hs-identifier">isNonRec</span><span> </span><a href="BasicTypes.html#NonRecursive"><span class="hs-identifier hs-var">NonRecursive</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-437"></a><span>
</span><a name="line-438"></a><span class="hs-identifier">boolToRecFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#RecFlag"><span class="hs-identifier hs-type">RecFlag</span></a><span>
</span><a name="line-439"></a><a name="boolToRecFlag"><a href="BasicTypes.html#boolToRecFlag"><span class="hs-identifier">boolToRecFlag</span></a></a><span> </span><span class="hs-identifier hs-var">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Recursive"><span class="hs-identifier hs-var">Recursive</span></a><span>
</span><a name="line-440"></a><span class="hs-identifier">boolToRecFlag</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NonRecursive"><span class="hs-identifier hs-var">NonRecursive</span></a><span>
</span><a name="line-441"></a><span>
</span><a name="line-442"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#RecFlag"><span class="hs-identifier hs-type">RecFlag</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-443"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#Recursive"><span class="hs-identifier hs-var">Recursive</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Recursive&quot;</span><span>
</span><a name="line-444"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#NonRecursive"><span class="hs-identifier hs-var">NonRecursive</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;NonRecursive&quot;</span><span>
</span><a name="line-445"></a><span>
</span><a name="line-446"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Code origin
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-453"></a><span>
</span><a name="line-454"></a><span class="hs-keyword">data</span><span> </span><a name="Origin"><a href="BasicTypes.html#Origin"><span class="hs-identifier">Origin</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="FromSource"><a href="BasicTypes.html#FromSource"><span class="hs-identifier">FromSource</span></a></a><span>
</span><a name="line-455"></a><span>            </span><span class="hs-glyph">|</span><span> </span><a name="Generated"><a href="BasicTypes.html#Generated"><span class="hs-identifier">Generated</span></a></a><span>
</span><a name="line-456"></a><span>            </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-457"></a><span>
</span><a name="line-458"></a><span class="hs-identifier">isGenerated</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Origin"><span class="hs-identifier hs-type">Origin</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-459"></a><a name="isGenerated"><a href="BasicTypes.html#isGenerated"><span class="hs-identifier">isGenerated</span></a></a><span> </span><a href="BasicTypes.html#Generated"><span class="hs-identifier hs-var">Generated</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-460"></a><span class="hs-identifier">isGenerated</span><span> </span><a href="BasicTypes.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-461"></a><span>
</span><a name="line-462"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#Origin"><span class="hs-identifier hs-type">Origin</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-463"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#FromSource"><span class="hs-identifier hs-var">FromSource</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;FromSource&quot;</span><span>
</span><a name="line-464"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#Generated"><span class="hs-identifier hs-var">Generated</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Generated&quot;</span><span>
</span><a name="line-465"></a><span>
</span><a name="line-466"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Instance overlap flag
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-473"></a><span>
</span><a name="line-474"></a><span class="hs-comment">-- | The semantics allowed for overlapping instances for a particular</span><span>
</span><a name="line-475"></a><span class="hs-comment">-- instance. See Note [Safe Haskell isSafeOverlap] (in `InstEnv.hs`) for a</span><span>
</span><a name="line-476"></a><span class="hs-comment">-- explanation of the `isSafeOverlap` field.</span><span>
</span><a name="line-477"></a><span class="hs-comment">--</span><span>
</span><a name="line-478"></a><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-479"></a><span class="hs-comment">--      'ApiAnnotation.AnnOpen' @'\{-\# OVERLAPPABLE'@ or</span><span>
</span><a name="line-480"></a><span class="hs-comment">--                              @'\{-\# OVERLAPPING'@ or</span><span>
</span><a name="line-481"></a><span class="hs-comment">--                              @'\{-\# OVERLAPS'@ or</span><span>
</span><a name="line-482"></a><span class="hs-comment">--                              @'\{-\# INCOHERENT'@,</span><span>
</span><a name="line-483"></a><span class="hs-comment">--      'ApiAnnotation.AnnClose' @`\#-\}`@,</span><span>
</span><a name="line-484"></a><span>
</span><a name="line-485"></a><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-486"></a><span class="hs-keyword">data</span><span> </span><a name="OverlapFlag"><a href="BasicTypes.html#OverlapFlag"><span class="hs-identifier">OverlapFlag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="OverlapFlag"><a href="BasicTypes.html#OverlapFlag"><span class="hs-identifier">OverlapFlag</span></a></a><span>
</span><a name="line-487"></a><span>  </span><span class="hs-special">{</span><span> </span><a href="BasicTypes.html#overlapMode"><span class="hs-identifier">overlapMode</span></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span>
</span><a name="line-488"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#isSafeOverlap"><span class="hs-identifier">isSafeOverlap</span></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-489"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-490"></a><span>
</span><a name="line-491"></a><span class="hs-identifier">setOverlapModeMaybe</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OverlapFlag"><span class="hs-identifier hs-type">OverlapFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#OverlapFlag"><span class="hs-identifier hs-type">OverlapFlag</span></a><span>
</span><a name="line-492"></a><a name="setOverlapModeMaybe"><a href="BasicTypes.html#setOverlapModeMaybe"><span class="hs-identifier">setOverlapModeMaybe</span></a></a><span> </span><a name="local-1627489449"><a href="#local-1627489449"><span class="hs-identifier">f</span></a></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489449"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-493"></a><span class="hs-identifier">setOverlapModeMaybe</span><span> </span><a name="local-1627489450"><a href="#local-1627489450"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-1627489451"><a href="#local-1627489451"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489450"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">overlapMode</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489451"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-494"></a><span>
</span><a name="line-495"></a><span class="hs-identifier">hasOverlappableFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-496"></a><a name="hasOverlappableFlag"><a href="BasicTypes.html#hasOverlappableFlag"><span class="hs-identifier">hasOverlappableFlag</span></a></a><span> </span><a name="local-1627489452"><a href="#local-1627489452"><span class="hs-identifier">mode</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-497"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-1627489452"><span class="hs-identifier hs-var">mode</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-498"></a><span>    </span><a href="BasicTypes.html#Overlappable"><span class="hs-identifier hs-var">Overlappable</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-499"></a><span>    </span><a href="BasicTypes.html#Overlaps"><span class="hs-identifier hs-var">Overlaps</span></a><span>     </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-500"></a><span>    </span><a href="BasicTypes.html#Incoherent"><span class="hs-identifier hs-var">Incoherent</span></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-501"></a><span>    </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-502"></a><span>
</span><a name="line-503"></a><span class="hs-identifier">hasOverlappingFlag</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-504"></a><a name="hasOverlappingFlag"><a href="BasicTypes.html#hasOverlappingFlag"><span class="hs-identifier">hasOverlappingFlag</span></a></a><span> </span><a name="local-1627489453"><a href="#local-1627489453"><span class="hs-identifier">mode</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-505"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-1627489453"><span class="hs-identifier hs-var">mode</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-506"></a><span>    </span><a href="BasicTypes.html#Overlapping"><span class="hs-identifier hs-var">Overlapping</span></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-507"></a><span>    </span><a href="BasicTypes.html#Overlaps"><span class="hs-identifier hs-var">Overlaps</span></a><span>     </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-508"></a><span>    </span><a href="BasicTypes.html#Incoherent"><span class="hs-identifier hs-var">Incoherent</span></a><span>   </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-509"></a><span>    </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-510"></a><span>
</span><a name="line-511"></a><span class="hs-keyword">data</span><span> </span><a name="OverlapMode"><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier">OverlapMode</span></a></a><span>  </span><span class="hs-comment">-- See Note [Rules for instance lookup] in InstEnv</span><span>
</span><a name="line-512"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NoOverlap"><a href="BasicTypes.html#NoOverlap"><span class="hs-identifier">NoOverlap</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-513"></a><span>                  </span><span class="hs-comment">-- See Note [Pragma source text]</span><span>
</span><a name="line-514"></a><span>    </span><span class="hs-comment">-- ^ This instance must not overlap another `NoOverlap` instance.</span><span>
</span><a name="line-515"></a><span>    </span><span class="hs-comment">-- However, it may be overlapped by `Overlapping` instances,</span><span>
</span><a name="line-516"></a><span>    </span><span class="hs-comment">-- and it may overlap `Overlappable` instances.</span><span>
</span><a name="line-517"></a><span>
</span><a name="line-518"></a><span>
</span><a name="line-519"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Overlappable"><a href="BasicTypes.html#Overlappable"><span class="hs-identifier">Overlappable</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-520"></a><span>                  </span><span class="hs-comment">-- See Note [Pragma source text]</span><span>
</span><a name="line-521"></a><span>    </span><span class="hs-comment">-- ^ Silently ignore this instance if you find a</span><span>
</span><a name="line-522"></a><span>    </span><span class="hs-comment">-- more specific one that matches the constraint</span><span>
</span><a name="line-523"></a><span>    </span><span class="hs-comment">-- you are trying to resolve</span><span>
</span><a name="line-524"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-525"></a><span>    </span><span class="hs-comment">-- Example: constraint (Foo [Int])</span><span>
</span><a name="line-526"></a><span>    </span><span class="hs-comment">--   instance                      Foo [Int]</span><span>
</span><a name="line-527"></a><span>    </span><span class="hs-comment">--   instance {-# OVERLAPPABLE #-} Foo [a]</span><span>
</span><a name="line-528"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-529"></a><span>    </span><span class="hs-comment">-- Since the second instance has the Overlappable flag,</span><span>
</span><a name="line-530"></a><span>    </span><span class="hs-comment">-- the first instance will be chosen (otherwise</span><span>
</span><a name="line-531"></a><span>    </span><span class="hs-comment">-- its ambiguous which to choose)</span><span>
</span><a name="line-532"></a><span>
</span><a name="line-533"></a><span>
</span><a name="line-534"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Overlapping"><a href="BasicTypes.html#Overlapping"><span class="hs-identifier">Overlapping</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-535"></a><span>                  </span><span class="hs-comment">-- See Note [Pragma source text]</span><span>
</span><a name="line-536"></a><span>    </span><span class="hs-comment">-- ^ Silently ignore any more general instances that may be</span><span>
</span><a name="line-537"></a><span>    </span><span class="hs-comment">--   used to solve the constraint.</span><span>
</span><a name="line-538"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-539"></a><span>    </span><span class="hs-comment">-- Example: constraint (Foo [Int])</span><span>
</span><a name="line-540"></a><span>    </span><span class="hs-comment">--   instance {-# OVERLAPPING #-} Foo [Int]</span><span>
</span><a name="line-541"></a><span>    </span><span class="hs-comment">--   instance                     Foo [a]</span><span>
</span><a name="line-542"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-543"></a><span>    </span><span class="hs-comment">-- Since the first instance has the Overlapping flag,</span><span>
</span><a name="line-544"></a><span>    </span><span class="hs-comment">-- the second---more general---instance will be ignored (otherwise</span><span>
</span><a name="line-545"></a><span>    </span><span class="hs-comment">-- it is ambiguous which to choose)</span><span>
</span><a name="line-546"></a><span>
</span><a name="line-547"></a><span>
</span><a name="line-548"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Overlaps"><a href="BasicTypes.html#Overlaps"><span class="hs-identifier">Overlaps</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-549"></a><span>                  </span><span class="hs-comment">-- See Note [Pragma source text]</span><span>
</span><a name="line-550"></a><span>    </span><span class="hs-comment">-- ^ Equivalent to having both `Overlapping` and `Overlappable` flags.</span><span>
</span><a name="line-551"></a><span>
</span><a name="line-552"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Incoherent"><a href="BasicTypes.html#Incoherent"><span class="hs-identifier">Incoherent</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span>
</span><a name="line-553"></a><span>                  </span><span class="hs-comment">-- See Note [Pragma source text]</span><span>
</span><a name="line-554"></a><span>    </span><span class="hs-comment">-- ^ Behave like Overlappable and Overlapping, and in addition pick</span><span>
</span><a name="line-555"></a><span>    </span><span class="hs-comment">-- an an arbitrary one if there are multiple matching candidates, and</span><span>
</span><a name="line-556"></a><span>    </span><span class="hs-comment">-- don't worry about later instantiation</span><span>
</span><a name="line-557"></a><span>    </span><span class="hs-comment">--</span><span>
</span><a name="line-558"></a><span>    </span><span class="hs-comment">-- Example: constraint (Foo [b])</span><span>
</span><a name="line-559"></a><span>    </span><span class="hs-comment">-- instance {-# INCOHERENT -} Foo [Int]</span><span>
</span><a name="line-560"></a><span>    </span><span class="hs-comment">-- instance                   Foo [a]</span><span>
</span><a name="line-561"></a><span>    </span><span class="hs-comment">-- Without the Incoherent flag, we'd complain that</span><span>
</span><a name="line-562"></a><span>    </span><span class="hs-comment">-- instantiating 'b' would change which instance</span><span>
</span><a name="line-563"></a><span>    </span><span class="hs-comment">-- was chosen. See also note [Incoherent instances] in InstEnv</span><span>
</span><a name="line-564"></a><span>
</span><a name="line-565"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">)</span><span>
</span><a name="line-566"></a><span>
</span><a name="line-567"></a><span>
</span><a name="line-568"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#OverlapFlag"><span class="hs-identifier hs-type">OverlapFlag</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-569"></a><span>   </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-1627489518"><a href="#local-1627489518"><span class="hs-identifier">flag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">overlapMode</span><span> </span><a href="#local-1627489518"><span class="hs-identifier hs-var">flag</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="BasicTypes.html#pprSafeOverlap"><span class="hs-identifier hs-var">pprSafeOverlap</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">isSafeOverlap</span><span> </span><a href="#local-1627489518"><span class="hs-identifier hs-var">flag</span></a><span class="hs-special">)</span><span>
</span><a name="line-570"></a><span>
</span><a name="line-571"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-572"></a><span>   </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#NoOverlap"><span class="hs-identifier hs-var">NoOverlap</span></a><span>    </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-573"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Overlappable"><span class="hs-identifier hs-var">Overlappable</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[overlappable]&quot;</span><span>
</span><a name="line-574"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Overlapping"><span class="hs-identifier hs-var">Overlapping</span></a><span>  </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[overlapping]&quot;</span><span>
</span><a name="line-575"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Overlaps"><span class="hs-identifier hs-var">Overlaps</span></a><span>     </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[overlap ok]&quot;</span><span>
</span><a name="line-576"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Incoherent"><span class="hs-identifier hs-var">Incoherent</span></a><span>   </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[incoherent]&quot;</span><span>
</span><a name="line-577"></a><span>
</span><a name="line-578"></a><span class="hs-identifier">pprSafeOverlap</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-579"></a><a name="pprSafeOverlap"><a href="BasicTypes.html#pprSafeOverlap"><span class="hs-identifier">pprSafeOverlap</span></a></a><span> </span><span class="hs-identifier hs-var">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;[safe]&quot;</span><span>
</span><a name="line-580"></a><span class="hs-identifier">pprSafeOverlap</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-581"></a><span>
</span><a name="line-582"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Tuples
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-589"></a><span>
</span><a name="line-590"></a><span class="hs-keyword">data</span><span> </span><a name="TupleSort"><a href="BasicTypes.html#TupleSort"><span class="hs-identifier">TupleSort</span></a></a><span>
</span><a name="line-591"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="BoxedTuple"><a href="BasicTypes.html#BoxedTuple"><span class="hs-identifier">BoxedTuple</span></a></a><span>
</span><a name="line-592"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="UnboxedTuple"><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier">UnboxedTuple</span></a></a><span>
</span><a name="line-593"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="ConstraintTuple"><a href="BasicTypes.html#ConstraintTuple"><span class="hs-identifier">ConstraintTuple</span></a></a><span>
</span><a name="line-594"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-595"></a><span>
</span><a name="line-596"></a><span class="hs-identifier">tupleSortBoxity</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#TupleSort"><span class="hs-identifier hs-type">TupleSort</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span>
</span><a name="line-597"></a><a name="tupleSortBoxity"><a href="BasicTypes.html#tupleSortBoxity"><span class="hs-identifier">tupleSortBoxity</span></a></a><span> </span><a href="BasicTypes.html#BoxedTuple"><span class="hs-identifier hs-var">BoxedTuple</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>
</span><a name="line-598"></a><span class="hs-identifier">tupleSortBoxity</span><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span>
</span><a name="line-599"></a><span class="hs-identifier">tupleSortBoxity</span><span> </span><a href="BasicTypes.html#ConstraintTuple"><span class="hs-identifier hs-var">ConstraintTuple</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>
</span><a name="line-600"></a><span>
</span><a name="line-601"></a><span class="hs-identifier">boxityTupleSort</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Boxity"><span class="hs-identifier hs-type">Boxity</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#TupleSort"><span class="hs-identifier hs-type">TupleSort</span></a><span>
</span><a name="line-602"></a><a name="boxityTupleSort"><a href="BasicTypes.html#boxityTupleSort"><span class="hs-identifier">boxityTupleSort</span></a></a><span> </span><a href="BasicTypes.html#Boxed"><span class="hs-identifier hs-var">Boxed</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#BoxedTuple"><span class="hs-identifier hs-var">BoxedTuple</span></a><span>
</span><a name="line-603"></a><span class="hs-identifier">boxityTupleSort</span><span> </span><a href="BasicTypes.html#Unboxed"><span class="hs-identifier hs-var">Unboxed</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span>
</span><a name="line-604"></a><span>
</span><a name="line-605"></a><span class="hs-identifier">tupleParens</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#TupleSort"><span class="hs-identifier hs-type">TupleSort</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-606"></a><a name="tupleParens"><a href="BasicTypes.html#tupleParens"><span class="hs-identifier">tupleParens</span></a></a><span> </span><a href="BasicTypes.html#BoxedTuple"><span class="hs-identifier hs-var">BoxedTuple</span></a><span>      </span><a name="local-1627489454"><a href="#local-1627489454"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="#local-1627489454"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-607"></a><span class="hs-identifier">tupleParens</span><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span>    </span><a name="local-1627489455"><a href="#local-1627489455"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;(#&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-1627489455"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;#)&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-608"></a><span class="hs-identifier">tupleParens</span><span> </span><a href="BasicTypes.html#ConstraintTuple"><span class="hs-identifier hs-var">ConstraintTuple</span></a><span> </span><a name="local-1627489456"><a href="#local-1627489456"><span class="hs-identifier">p</span></a></a><span>   </span><span class="hs-comment">-- In debug-style write (% Eq a, Ord b %)</span><span>
</span><a name="line-609"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="StaticFlags.html#opt_PprStyle_Debug"><span class="hs-identifier hs-var">opt_PprStyle_Debug</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;(%&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-1627489456"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ptext"><span class="hs-identifier hs-var">ptext</span></a><span> </span><span class="hs-special">(</span><a href="FastString.html#sLit"><span class="hs-identifier hs-var">sLit</span></a><span> </span><span class="hs-string">&quot;%)&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-610"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>                 </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="#local-1627489456"><span class="hs-identifier hs-var">p</span></a><span>
</span><a name="line-611"></a><span>
</span><a name="line-612"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Generic]{Generic flag}
*                                                                      *
************************************************************************

This is the &quot;Embedding-Projection pair&quot; datatype, it contains
two pieces of code (normally either RenamedExpr's or Id's)
If we have a such a pair (EP from to), the idea is that 'from' and 'to'
represents functions of type

        from :: T -&gt; Tring
        to   :: Tring -&gt; T

And we should have

        to (from x) = x

T and Tring are arbitrary, but typically T is the 'main' type while
Tring is the 'representation' type.  (This just helps us remember
whether to use 'from' or 'to'.
-}</span><span>
</span><a name="line-635"></a><span>
</span><a name="line-636"></a><span class="hs-keyword">data</span><span> </span><a name="EP"><a href="BasicTypes.html#EP"><span class="hs-identifier">EP</span></a></a><span> </span><a name="local-1627489429"><a href="#local-1627489429"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="EP"><a href="BasicTypes.html#EP"><span class="hs-identifier">EP</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a href="BasicTypes.html#fromEP"><span class="hs-identifier">fromEP</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-1627489429"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span>   </span><span class="hs-comment">-- :: T -&gt; Tring</span><span>
</span><a name="line-637"></a><span>                 </span><a href="BasicTypes.html#toEP"><span class="hs-identifier">toEP</span></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="#local-1627489429"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-special">}</span><span>  </span><span class="hs-comment">-- :: Tring -&gt; T</span><span>
</span><a name="line-638"></a><span>
</span><a name="line-639"></a><span class="hs-comment">{-
Embedding-projection pairs are used in several places:

First of all, each type constructor has an EP associated with it, the
code in EP converts (datatype T) from T to Tring and back again.

Secondly, when we are filling in Generic methods (in the typechecker,
tcMethodBinds), we are constructing bimaps by induction on the structure
of the type of the method signature.


************************************************************************
*                                                                      *
\subsection{Occurrence information}
*                                                                      *
************************************************************************

This data type is used exclusively by the simplifier, but it appears in a
SubstResult, which is currently defined in VarEnv, which is pretty near
the base of the module hierarchy.  So it seemed simpler to put the
defn of OccInfo here, safely at the bottom
-}</span><span>
</span><a name="line-661"></a><span>
</span><a name="line-662"></a><span class="hs-comment">-- | Identifier occurrence information</span><span>
</span><a name="line-663"></a><span class="hs-keyword">data</span><span> </span><a name="OccInfo"><a href="BasicTypes.html#OccInfo"><span class="hs-identifier">OccInfo</span></a></a><span>
</span><a name="line-664"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="NoOccInfo"><a href="BasicTypes.html#NoOccInfo"><span class="hs-identifier">NoOccInfo</span></a></a><span>           </span><span class="hs-comment">-- ^ There are many occurrences, or unknown occurrences</span><span>
</span><a name="line-665"></a><span>
</span><a name="line-666"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="IAmDead"><a href="BasicTypes.html#IAmDead"><span class="hs-identifier">IAmDead</span></a></a><span>             </span><span class="hs-comment">-- ^ Marks unused variables.  Sometimes useful for</span><span>
</span><a name="line-667"></a><span>                        </span><span class="hs-comment">-- lambda and case-bound variables.</span><span>
</span><a name="line-668"></a><span>
</span><a name="line-669"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="OneOcc"><a href="BasicTypes.html#OneOcc"><span class="hs-identifier">OneOcc</span></a></a><span>
</span><a name="line-670"></a><span>        </span><span class="hs-glyph">!</span><a href="BasicTypes.html#InsideLam"><span class="hs-identifier hs-type">InsideLam</span></a><span>
</span><a name="line-671"></a><span>        </span><span class="hs-glyph">!</span><a href="BasicTypes.html#OneBranch"><span class="hs-identifier hs-type">OneBranch</span></a><span>
</span><a name="line-672"></a><span>        </span><span class="hs-glyph">!</span><a href="BasicTypes.html#InterestingCxt"><span class="hs-identifier hs-type">InterestingCxt</span></a><span> </span><span class="hs-comment">-- ^ Occurs exactly once, not inside a rule</span><span>
</span><a name="line-673"></a><span>
</span><a name="line-674"></a><span>  </span><span class="hs-comment">-- | This identifier breaks a loop of mutually recursive functions. The field</span><span>
</span><a name="line-675"></a><span>  </span><span class="hs-comment">-- marks whether it is only a loop breaker due to a reference in a rule</span><span>
</span><a name="line-676"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="IAmALoopBreaker"><a href="BasicTypes.html#IAmALoopBreaker"><span class="hs-identifier">IAmALoopBreaker</span></a></a><span>     </span><span class="hs-comment">-- Note [LoopBreaker OccInfo]</span><span>
</span><a name="line-677"></a><span>        </span><span class="hs-glyph">!</span><a href="BasicTypes.html#RulesOnly"><span class="hs-identifier hs-type">RulesOnly</span></a><span>
</span><a name="line-678"></a><span>
</span><a name="line-679"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">)</span><span>
</span><a name="line-680"></a><span>
</span><a name="line-681"></a><span class="hs-keyword">type</span><span> </span><a name="RulesOnly"><a href="BasicTypes.html#RulesOnly"><span class="hs-identifier">RulesOnly</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-682"></a><span>
</span><a name="line-683"></a><span class="hs-comment">{-
Note [LoopBreaker OccInfo]
~~~~~~~~~~~~~~~~~~~~~~~~~~
   IAmALoopBreaker True  &lt;=&gt; A &quot;weak&quot; or rules-only loop breaker
                             Do not preInlineUnconditionally

   IAmALoopBreaker False &lt;=&gt; A &quot;strong&quot; loop breaker
                             Do not inline at all

See OccurAnal Note [Weak loop breakers]
-}</span><span>
</span><a name="line-694"></a><span>
</span><a name="line-695"></a><span class="hs-identifier">isNoOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-696"></a><a name="isNoOcc"><a href="BasicTypes.html#isNoOcc"><span class="hs-identifier">isNoOcc</span></a></a><span> </span><a href="BasicTypes.html#NoOccInfo"><span class="hs-identifier hs-var">NoOccInfo</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-697"></a><span class="hs-identifier">isNoOcc</span><span> </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-698"></a><span>
</span><a name="line-699"></a><span class="hs-identifier">seqOccInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-700"></a><a name="seqOccInfo"><a href="BasicTypes.html#seqOccInfo"><span class="hs-identifier">seqOccInfo</span></a></a><span> </span><a name="local-1627489457"><a href="#local-1627489457"><span class="hs-identifier">occ</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489457"><span class="hs-identifier hs-var">occ</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">seq</span><span class="hs-special">`</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-701"></a><span>
</span><a name="line-702"></a><span class="hs-comment">-----------------</span><span>
</span><a name="line-703"></a><span class="hs-keyword">type</span><span> </span><a name="InterestingCxt"><a href="BasicTypes.html#InterestingCxt"><span class="hs-identifier">InterestingCxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>      </span><span class="hs-comment">-- True &lt;=&gt; Function: is applied</span><span>
</span><a name="line-704"></a><span>                                </span><span class="hs-comment">--          Data value: scrutinised by a case with</span><span>
</span><a name="line-705"></a><span>                                </span><span class="hs-comment">--                      at least one non-DEFAULT branch</span><span>
</span><a name="line-706"></a><span>
</span><a name="line-707"></a><span class="hs-comment">-----------------</span><span>
</span><a name="line-708"></a><span class="hs-keyword">type</span><span> </span><a name="InsideLam"><a href="BasicTypes.html#InsideLam"><span class="hs-identifier">InsideLam</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>   </span><span class="hs-comment">-- True &lt;=&gt; Occurs inside a non-linear lambda</span><span>
</span><a name="line-709"></a><span>                        </span><span class="hs-comment">-- Substituting a redex for this occurrence is</span><span>
</span><a name="line-710"></a><span>                        </span><span class="hs-comment">-- dangerous because it might duplicate work.</span><span>
</span><a name="line-711"></a><span class="hs-identifier">insideLam</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">notInsideLam</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InsideLam"><span class="hs-identifier hs-type">InsideLam</span></a><span>
</span><a name="line-712"></a><a name="insideLam"><a href="BasicTypes.html#insideLam"><span class="hs-identifier">insideLam</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-713"></a><a name="notInsideLam"><a href="BasicTypes.html#notInsideLam"><span class="hs-identifier">notInsideLam</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-714"></a><span>
</span><a name="line-715"></a><span class="hs-comment">-----------------</span><span>
</span><a name="line-716"></a><span class="hs-keyword">type</span><span> </span><a name="OneBranch"><a href="BasicTypes.html#OneBranch"><span class="hs-identifier">OneBranch</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>   </span><span class="hs-comment">-- True &lt;=&gt; Occurs in only one case branch</span><span>
</span><a name="line-717"></a><span>                        </span><span class="hs-comment">--      so no code-duplication issue to worry about</span><span>
</span><a name="line-718"></a><span class="hs-identifier">oneBranch</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">notOneBranch</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OneBranch"><span class="hs-identifier hs-type">OneBranch</span></a><span>
</span><a name="line-719"></a><a name="oneBranch"><a href="BasicTypes.html#oneBranch"><span class="hs-identifier">oneBranch</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-720"></a><a name="notOneBranch"><a href="BasicTypes.html#notOneBranch"><span class="hs-identifier">notOneBranch</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-721"></a><span>
</span><a name="line-722"></a><span class="hs-identifier">strongLoopBreaker</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">weakLoopBreaker</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span>
</span><a name="line-723"></a><a name="strongLoopBreaker"><a href="BasicTypes.html#strongLoopBreaker"><span class="hs-identifier">strongLoopBreaker</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#IAmALoopBreaker"><span class="hs-identifier hs-var">IAmALoopBreaker</span></a><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-724"></a><a name="weakLoopBreaker"><a href="BasicTypes.html#weakLoopBreaker"><span class="hs-identifier">weakLoopBreaker</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#IAmALoopBreaker"><span class="hs-identifier hs-var">IAmALoopBreaker</span></a><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-725"></a><span>
</span><a name="line-726"></a><span class="hs-identifier">isWeakLoopBreaker</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-727"></a><a name="isWeakLoopBreaker"><a href="BasicTypes.html#isWeakLoopBreaker"><span class="hs-identifier">isWeakLoopBreaker</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#IAmALoopBreaker"><span class="hs-identifier hs-var">IAmALoopBreaker</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-728"></a><span class="hs-identifier">isWeakLoopBreaker</span><span> </span><span class="hs-identifier">_</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-729"></a><span>
</span><a name="line-730"></a><span class="hs-identifier">isStrongLoopBreaker</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-731"></a><a name="isStrongLoopBreaker"><a href="BasicTypes.html#isStrongLoopBreaker"><span class="hs-identifier">isStrongLoopBreaker</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#IAmALoopBreaker"><span class="hs-identifier hs-var">IAmALoopBreaker</span></a><span> </span><span class="hs-identifier hs-var">False</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>   </span><span class="hs-comment">-- Loop-breaker that breaks a non-rule cycle</span><span>
</span><a name="line-732"></a><span class="hs-identifier">isStrongLoopBreaker</span><span> </span><span class="hs-identifier">_</span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-733"></a><span>
</span><a name="line-734"></a><span class="hs-identifier">isDeadOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-735"></a><a name="isDeadOcc"><a href="BasicTypes.html#isDeadOcc"><span class="hs-identifier">isDeadOcc</span></a></a><span> </span><a href="BasicTypes.html#IAmDead"><span class="hs-identifier hs-var">IAmDead</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-736"></a><span class="hs-identifier">isDeadOcc</span><span> </span><span class="hs-identifier">_</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-737"></a><span>
</span><a name="line-738"></a><span class="hs-identifier">isOneOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-739"></a><a name="isOneOcc"><a href="BasicTypes.html#isOneOcc"><span class="hs-identifier">isOneOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#OneOcc"><span class="hs-identifier hs-var">OneOcc</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-740"></a><span class="hs-identifier">isOneOcc</span><span> </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-741"></a><span>
</span><a name="line-742"></a><span class="hs-identifier">zapFragileOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span>
</span><a name="line-743"></a><a name="zapFragileOcc"><a href="BasicTypes.html#zapFragileOcc"><span class="hs-identifier">zapFragileOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#OneOcc"><span class="hs-identifier hs-var">OneOcc</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NoOccInfo"><span class="hs-identifier hs-var">NoOccInfo</span></a><span>
</span><a name="line-744"></a><span class="hs-identifier">zapFragileOcc</span><span> </span><a name="local-1627489458"><a href="#local-1627489458"><span class="hs-identifier">occ</span></a></a><span>         </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489458"><span class="hs-identifier hs-var">occ</span></a><span>
</span><a name="line-745"></a><span>
</span><a name="line-746"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#OccInfo"><span class="hs-identifier hs-type">OccInfo</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-747"></a><span>  </span><span class="hs-comment">-- only used for debugging; never parsed.  KSW 1999-07</span><span>
</span><a name="line-748"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#NoOccInfo"><span class="hs-identifier hs-var">NoOccInfo</span></a><span>            </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-749"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#IAmALoopBreaker"><span class="hs-identifier hs-var">IAmALoopBreaker</span></a><span> </span><a name="local-1627489511"><a href="#local-1627489511"><span class="hs-identifier">ro</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;LoopBreaker&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-1627489511"><span class="hs-identifier hs-var">ro</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'!'</span><span> </span><span class="hs-keyword">else</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-750"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#IAmDead"><span class="hs-identifier hs-var">IAmDead</span></a><span>              </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Dead&quot;</span><span>
</span><a name="line-751"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#OneOcc"><span class="hs-identifier hs-var">OneOcc</span></a><span> </span><a name="local-1627489512"><a href="#local-1627489512"><span class="hs-identifier">inside_lam</span></a></a><span> </span><a name="local-1627489513"><a href="#local-1627489513"><span class="hs-identifier">one_branch</span></a></a><span> </span><a name="local-1627489514"><a href="#local-1627489514"><span class="hs-identifier">int_cxt</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-752"></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Once&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627489515"><span class="hs-identifier hs-var">pp_lam</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627489516"><span class="hs-identifier hs-var">pp_br</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627489517"><span class="hs-identifier hs-var">pp_args</span></a><span>
</span><a name="line-753"></a><span>        </span><span class="hs-keyword">where</span><span>
</span><a name="line-754"></a><span>          </span><a name="local-1627489515"><a href="#local-1627489515"><span class="hs-identifier">pp_lam</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-1627489512"><span class="hs-identifier hs-var">inside_lam</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'L'</span><span>
</span><a name="line-755"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-756"></a><span>          </span><a name="local-1627489516"><a href="#local-1627489516"><span class="hs-identifier">pp_br</span></a></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-1627489513"><span class="hs-identifier hs-var">one_branch</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-757"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'*'</span><span>
</span><a name="line-758"></a><span>          </span><a name="local-1627489517"><a href="#local-1627489517"><span class="hs-identifier">pp_args</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-1627489514"><span class="hs-identifier hs-var">int_cxt</span></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'!'</span><span>
</span><a name="line-759"></a><span>                  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-760"></a><span>
</span><a name="line-761"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Default method specfication
*                                                                      *
************************************************************************

The DefMethSpec enumeration just indicates what sort of default method
is used for a class. It is generated from source code, and present in
interface files; it is converted to Class.DefMethInfo before begin put in a
Class object.
-}</span><span>
</span><a name="line-773"></a><span>
</span><a name="line-774"></a><span class="hs-keyword">data</span><span> </span><a name="DefMethSpec"><a href="BasicTypes.html#DefMethSpec"><span class="hs-identifier">DefMethSpec</span></a></a><span> </span><a name="local-1627489428"><a href="#local-1627489428"><span class="hs-identifier">ty</span></a></a><span>
</span><a name="line-775"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="VanillaDM"><a href="BasicTypes.html#VanillaDM"><span class="hs-identifier">VanillaDM</span></a></a><span>     </span><span class="hs-comment">-- Default method given with polymorphic code</span><span>
</span><a name="line-776"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="GenericDM"><a href="BasicTypes.html#GenericDM"><span class="hs-identifier">GenericDM</span></a></a><span> </span><a href="#local-1627489428"><span class="hs-identifier hs-type">ty</span></a><span>  </span><span class="hs-comment">-- Default method given with code of this type</span><span>
</span><a name="line-777"></a><span>
</span><a name="line-778"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#DefMethSpec"><span class="hs-identifier hs-type">DefMethSpec</span></a><span> </span><a href="#local-1627489510"><span class="hs-identifier hs-type">ty</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-779"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#VanillaDM"><span class="hs-identifier hs-var">VanillaDM</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;{- Has default method -}&quot;</span><span>
</span><a name="line-780"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#GenericDM"><span class="hs-identifier hs-var">GenericDM</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;{- Has generic default method -}&quot;</span><span>
</span><a name="line-781"></a><span>
</span><a name="line-782"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Success flag}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-789"></a><span>
</span><a name="line-790"></a><span class="hs-keyword">data</span><span> </span><a name="SuccessFlag"><a href="BasicTypes.html#SuccessFlag"><span class="hs-identifier">SuccessFlag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Succeeded"><a href="BasicTypes.html#Succeeded"><span class="hs-identifier">Succeeded</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a name="Failed"><a href="BasicTypes.html#Failed"><span class="hs-identifier">Failed</span></a></a><span>
</span><a name="line-791"></a><span>
</span><a name="line-792"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#SuccessFlag"><span class="hs-identifier hs-type">SuccessFlag</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-793"></a><span>    </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#Succeeded"><span class="hs-identifier hs-var">Succeeded</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Succeeded&quot;</span><span>
</span><a name="line-794"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#Failed"><span class="hs-identifier hs-var">Failed</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;Failed&quot;</span><span>
</span><a name="line-795"></a><span>
</span><a name="line-796"></a><span class="hs-identifier">successIf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#SuccessFlag"><span class="hs-identifier hs-type">SuccessFlag</span></a><span>
</span><a name="line-797"></a><a name="successIf"><a href="BasicTypes.html#successIf"><span class="hs-identifier">successIf</span></a></a><span> </span><span class="hs-identifier hs-var">True</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Succeeded"><span class="hs-identifier hs-var">Succeeded</span></a><span>
</span><a name="line-798"></a><span class="hs-identifier">successIf</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Failed"><span class="hs-identifier hs-var">Failed</span></a><span>
</span><a name="line-799"></a><span>
</span><a name="line-800"></a><span class="hs-identifier">succeeded</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">failed</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SuccessFlag"><span class="hs-identifier hs-type">SuccessFlag</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-801"></a><a name="succeeded"><a href="BasicTypes.html#succeeded"><span class="hs-identifier">succeeded</span></a></a><span> </span><a href="BasicTypes.html#Succeeded"><span class="hs-identifier hs-var">Succeeded</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-802"></a><span class="hs-identifier">succeeded</span><span> </span><a href="BasicTypes.html#Failed"><span class="hs-identifier hs-var">Failed</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-803"></a><span>
</span><a name="line-804"></a><a name="failed"><a href="BasicTypes.html#failed"><span class="hs-identifier">failed</span></a></a><span> </span><a href="BasicTypes.html#Succeeded"><span class="hs-identifier hs-var">Succeeded</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-805"></a><span class="hs-identifier">failed</span><span> </span><a href="BasicTypes.html#Failed"><span class="hs-identifier hs-var">Failed</span></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-806"></a><span>
</span><a name="line-807"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Source Text}
*                                                                      *
************************************************************************
Keeping Source Text for source to source conversions

Note [Pragma source text]
~~~~~~~~~~~~~~~~~~~~~~~~~
The lexer does a case-insensitive match for pragmas, as well as
accepting both UK and US spelling variants.

So

  {-# SPECIALISE #-}
  {-# SPECIALIZE #-}
  {-# Specialize #-}

will all generate ITspec_prag token for the start of the pragma.

In order to be able to do source to source conversions, the original
source text for the token needs to be preserved, hence the
`SourceText` field.

So the lexer will then generate

  ITspec_prag &quot;{ -# SPECIALISE&quot;
  ITspec_prag &quot;{ -# SPECIALIZE&quot;
  ITspec_prag &quot;{ -# Specialize&quot;

for the cases above.
 [without the space between '{' and '-', otherwise this comment won't parse]


Note [Literal source text]
~~~~~~~~~~~~~~~~~~~~~~~~~~
The lexer/parser converts literals from their original source text
versions to an appropriate internal representation. This is a problem
for tools doing source to source conversions, so the original source
text is stored in literals where this can occur.

Motivating examples for HsLit

  HsChar          '\n'       == '\x20`
  HsCharPrim      '\x41`#    == `A`
  HsString        &quot;\x20\x41&quot; == &quot; A&quot;
  HsStringPrim    &quot;\x20&quot;#    == &quot; &quot;#
  HsInt           001        == 1
  HsIntPrim       002#       == 2#
  HsWordPrim      003##      == 3##
  HsInt64Prim     004##      == 4##
  HsWord64Prim    005##      == 5##
  HsInteger       006        == 6

For OverLitVal

  HsIntegral      003      == 0x003
  HsIsString      &quot;\x41nd&quot; == &quot;And&quot;
-}</span><span>
</span><a name="line-867"></a><span>
</span><a name="line-868"></a><span class="hs-keyword">type</span><span> </span><a name="SourceText"><a href="BasicTypes.html#SourceText"><span class="hs-identifier">SourceText</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a><span> </span><span class="hs-comment">-- Note [Literal source text],[Pragma source text]</span><span>
</span><a name="line-869"></a><span>
</span><a name="line-870"></a><span>
</span><a name="line-871"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Activation}
*                                                                      *
************************************************************************

When a rule or inlining is active
-}</span><span>
</span><a name="line-880"></a><span>
</span><a name="line-881"></a><span class="hs-keyword">type</span><span> </span><a name="PhaseNum"><a href="BasicTypes.html#PhaseNum"><span class="hs-identifier">PhaseNum</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-type">Int</span><span>  </span><span class="hs-comment">-- Compilation phase</span><span>
</span><a name="line-882"></a><span>                     </span><span class="hs-comment">-- Phases decrease towards zero</span><span>
</span><a name="line-883"></a><span>                     </span><span class="hs-comment">-- Zero is the last phase</span><span>
</span><a name="line-884"></a><span>
</span><a name="line-885"></a><span class="hs-keyword">data</span><span> </span><a name="CompilerPhase"><a href="BasicTypes.html#CompilerPhase"><span class="hs-identifier">CompilerPhase</span></a></a><span>
</span><a name="line-886"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Phase"><a href="BasicTypes.html#Phase"><span class="hs-identifier">Phase</span></a></a><span> </span><a href="BasicTypes.html#PhaseNum"><span class="hs-identifier hs-type">PhaseNum</span></a><span>
</span><a name="line-887"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="InitialPhase"><a href="BasicTypes.html#InitialPhase"><span class="hs-identifier">InitialPhase</span></a></a><span>    </span><span class="hs-comment">-- The first phase -- number = infinity!</span><span>
</span><a name="line-888"></a><span>
</span><a name="line-889"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#CompilerPhase"><span class="hs-identifier hs-type">CompilerPhase</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-890"></a><span>   </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Phase"><span class="hs-identifier hs-var">Phase</span></a><span> </span><a name="local-1627489509"><a href="#local-1627489509"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#int"><span class="hs-identifier hs-var">int</span></a><span> </span><a href="#local-1627489509"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-891"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#InitialPhase"><span class="hs-identifier hs-var">InitialPhase</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;InitialPhase&quot;</span><span>
</span><a name="line-892"></a><span>
</span><a name="line-893"></a><span class="hs-comment">-- See note [Pragma source text]</span><span>
</span><a name="line-894"></a><span class="hs-keyword">data</span><span> </span><a name="Activation"><a href="BasicTypes.html#Activation"><span class="hs-identifier">Activation</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="NeverActive"><a href="BasicTypes.html#NeverActive"><span class="hs-identifier">NeverActive</span></a></a><span>
</span><a name="line-895"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a name="AlwaysActive"><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier">AlwaysActive</span></a></a><span>
</span><a name="line-896"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a name="ActiveBefore"><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier">ActiveBefore</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><a href="BasicTypes.html#PhaseNum"><span class="hs-identifier hs-type">PhaseNum</span></a><span>
</span><a name="line-897"></a><span>                  </span><span class="hs-comment">-- Active only *strictly before* this phase</span><span>
</span><a name="line-898"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a name="ActiveAfter"><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier">ActiveAfter</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><a href="BasicTypes.html#PhaseNum"><span class="hs-identifier hs-type">PhaseNum</span></a><span>
</span><a name="line-899"></a><span>                  </span><span class="hs-comment">-- Active in this phase and later</span><span>
</span><a name="line-900"></a><span>                </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-901"></a><span>                  </span><span class="hs-comment">-- Eq used in comparing rules in HsDecls</span><span>
</span><a name="line-902"></a><span>
</span><a name="line-903"></a><span class="hs-keyword">data</span><span> </span><a name="RuleMatchInfo"><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier">RuleMatchInfo</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="ConLike"><a href="BasicTypes.html#ConLike"><span class="hs-identifier">ConLike</span></a></a><span>                    </span><span class="hs-comment">-- See Note [CONLIKE pragma]</span><span>
</span><a name="line-904"></a><span>                   </span><span class="hs-glyph">|</span><span> </span><a name="FunLike"><a href="BasicTypes.html#FunLike"><span class="hs-identifier">FunLike</span></a></a><span>
</span><a name="line-905"></a><span>                   </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-906"></a><span>        </span><span class="hs-comment">-- Show needed for Lexer.x</span><span>
</span><a name="line-907"></a><span>
</span><a name="line-908"></a><span class="hs-keyword">data</span><span> </span><a name="InlinePragma"><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier">InlinePragma</span></a></a><span>            </span><span class="hs-comment">-- Note [InlinePragma]</span><span>
</span><a name="line-909"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="InlinePragma"><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier">InlinePragma</span></a></a><span>
</span><a name="line-910"></a><span>      </span><span class="hs-special">{</span><span> </span><a href="BasicTypes.html#inl_src"><span class="hs-identifier">inl_src</span></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><span class="hs-comment">-- Note [Pragma source text]</span><span>
</span><a name="line-911"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#inl_inline"><span class="hs-identifier">inl_inline</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a><span>
</span><a name="line-912"></a><span>
</span><a name="line-913"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#inl_sat"><span class="hs-identifier">inl_sat</span></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span>    </span><span class="hs-comment">-- Just n &lt;=&gt; Inline only when applied to n</span><span>
</span><a name="line-914"></a><span>                                     </span><span class="hs-comment">--            explicit (non-type, non-dictionary) args</span><span>
</span><a name="line-915"></a><span>                                     </span><span class="hs-comment">--   That is, inl_sat describes the number of *source-code*</span><span>
</span><a name="line-916"></a><span>                                     </span><span class="hs-comment">--   arguments the thing must be applied to.  We add on the</span><span>
</span><a name="line-917"></a><span>                                     </span><span class="hs-comment">--   number of implicit, dictionary arguments when making</span><span>
</span><a name="line-918"></a><span>                                     </span><span class="hs-comment">--   the InlineRule, and don't look at inl_sat further</span><span>
</span><a name="line-919"></a><span>
</span><a name="line-920"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#inl_act"><span class="hs-identifier">inl_act</span></a><span>    </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span>     </span><span class="hs-comment">-- Says during which phases inlining is allowed</span><span>
</span><a name="line-921"></a><span>
</span><a name="line-922"></a><span>      </span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#inl_rule"><span class="hs-identifier">inl_rule</span></a><span>   </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span>  </span><span class="hs-comment">-- Should the function be treated like a constructor?</span><span>
</span><a name="line-923"></a><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-924"></a><span>
</span><a name="line-925"></a><span class="hs-keyword">data</span><span> </span><a name="InlineSpec"><a href="BasicTypes.html#InlineSpec"><span class="hs-identifier">InlineSpec</span></a></a><span>   </span><span class="hs-comment">-- What the user's INLINE pragma looked like</span><span>
</span><a name="line-926"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Inline"><a href="BasicTypes.html#Inline"><span class="hs-identifier">Inline</span></a></a><span>
</span><a name="line-927"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Inlinable"><a href="BasicTypes.html#Inlinable"><span class="hs-identifier">Inlinable</span></a></a><span>
</span><a name="line-928"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="NoInline"><a href="BasicTypes.html#NoInline"><span class="hs-identifier">NoInline</span></a></a><span>
</span><a name="line-929"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="EmptyInlineSpec"><a href="BasicTypes.html#EmptyInlineSpec"><span class="hs-identifier">EmptyInlineSpec</span></a></a><span>  </span><span class="hs-comment">-- Used in a place-holder InlinePragma in SpecPrag or IdInfo,</span><span>
</span><a name="line-930"></a><span>                     </span><span class="hs-comment">-- where there isn't any real inline pragma at all</span><span>
</span><a name="line-931"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-932"></a><span>        </span><span class="hs-comment">-- Show needed for Lexer.x</span><span>
</span><a name="line-933"></a><span>
</span><a name="line-934"></a><span class="hs-comment">{-
Note [InlinePragma]
~~~~~~~~~~~~~~~~~~~
This data type mirrors what you can write in an INLINE or NOINLINE pragma in
the source program.

If you write nothing at all, you get defaultInlinePragma:
   inl_inline = False
   inl_act    = AlwaysActive
   inl_rule   = FunLike

It's not possible to get that combination by *writing* something, so
if an Id has defaultInlinePragma it means the user didn't specify anything.

If inl_inline = True, then the Id should have an InlineRule unfolding.

Note [CONLIKE pragma]
~~~~~~~~~~~~~~~~~~~~~
The ConLike constructor of a RuleMatchInfo is aimed at the following.
Consider first
    {-# RULE &quot;r/cons&quot; forall a as. r (a:as) = f (a+1) #-}
    g b bs = let x = b:bs in ..x...x...(r x)...
Now, the rule applies to the (r x) term, because GHC &quot;looks through&quot;
the definition of 'x' to see that it is (b:bs).

Now consider
    {-# RULE &quot;r/f&quot; forall v. r (f v) = f (v+1) #-}
    g v = let x = f v in ..x...x...(r x)...
Normally the (r x) would *not* match the rule, because GHC would be
scared about duplicating the redex (f v), so it does not &quot;look
through&quot; the bindings.

However the CONLIKE modifier says to treat 'f' like a constructor in
this situation, and &quot;look through&quot; the unfolding for x.  So (r x)
fires, yielding (f (v+1)).

This is all controlled with a user-visible pragma:
     {-# NOINLINE CONLIKE [1] f #-}

The main effects of CONLIKE are:

    - The occurrence analyser (OccAnal) and simplifier (Simplify) treat
      CONLIKE thing like constructors, by ANF-ing them

    - New function coreUtils.exprIsExpandable is like exprIsCheap, but
      additionally spots applications of CONLIKE functions

    - A CoreUnfolding has a field that caches exprIsExpandable

    - The rule matcher consults this field.  See
      Note [Expanding variables] in Rules.hs.
-}</span><span>
</span><a name="line-986"></a><span>
</span><a name="line-987"></a><span class="hs-identifier">isConLike</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-988"></a><a name="isConLike"><a href="BasicTypes.html#isConLike"><span class="hs-identifier">isConLike</span></a></a><span> </span><a href="BasicTypes.html#ConLike"><span class="hs-identifier hs-var">ConLike</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-989"></a><span class="hs-identifier">isConLike</span><span> </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-990"></a><span>
</span><a name="line-991"></a><span class="hs-identifier">isFunLike</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-992"></a><a name="isFunLike"><a href="BasicTypes.html#isFunLike"><span class="hs-identifier">isFunLike</span></a></a><span> </span><a href="BasicTypes.html#FunLike"><span class="hs-identifier hs-var">FunLike</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-993"></a><span class="hs-identifier">isFunLike</span><span> </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-994"></a><span>
</span><a name="line-995"></a><span class="hs-identifier">isEmptyInlineSpec</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-996"></a><a name="isEmptyInlineSpec"><a href="BasicTypes.html#isEmptyInlineSpec"><span class="hs-identifier">isEmptyInlineSpec</span></a></a><span> </span><a href="BasicTypes.html#EmptyInlineSpec"><span class="hs-identifier hs-var">EmptyInlineSpec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-997"></a><span class="hs-identifier">isEmptyInlineSpec</span><span> </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-998"></a><span>
</span><a name="line-999"></a><span class="hs-identifier">defaultInlinePragma</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">alwaysInlinePragma</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">neverInlinePragma</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">dfunInlinePragma</span><span>
</span><a name="line-1000"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span>
</span><a name="line-1001"></a><a name="defaultInlinePragma"><a href="BasicTypes.html#defaultInlinePragma"><span class="hs-identifier">defaultInlinePragma</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-var">InlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_src</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;{-# INLINE&quot;</span><span>
</span><a name="line-1002"></a><span>                                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_act</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>
</span><a name="line-1003"></a><span>                                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_rule</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#FunLike"><span class="hs-identifier hs-var">FunLike</span></a><span>
</span><a name="line-1004"></a><span>                                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#EmptyInlineSpec"><span class="hs-identifier hs-var">EmptyInlineSpec</span></a><span>
</span><a name="line-1005"></a><span>                                   </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_sat</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1006"></a><span>
</span><a name="line-1007"></a><a name="alwaysInlinePragma"><a href="BasicTypes.html#alwaysInlinePragma"><span class="hs-identifier">alwaysInlinePragma</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#defaultInlinePragma"><span class="hs-identifier hs-var">defaultInlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Inline"><span class="hs-identifier hs-var">Inline</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1008"></a><a name="neverInlinePragma"><a href="BasicTypes.html#neverInlinePragma"><span class="hs-identifier">neverInlinePragma</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#defaultInlinePragma"><span class="hs-identifier hs-var">defaultInlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_act</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1009"></a><span>
</span><a name="line-1010"></a><span class="hs-identifier">inlinePragmaSpec</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a><span>
</span><a name="line-1011"></a><a name="inlinePragmaSpec"><a href="BasicTypes.html#inlinePragmaSpec"><span class="hs-identifier">inlinePragmaSpec</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">inl_inline</span><span>
</span><a name="line-1012"></a><span>
</span><a name="line-1013"></a><span class="hs-comment">-- A DFun has an always-active inline activation so that</span><span>
</span><a name="line-1014"></a><span class="hs-comment">-- exprIsConApp_maybe can &quot;see&quot; its unfolding</span><span>
</span><a name="line-1015"></a><span class="hs-comment">-- (However, its actual Unfolding is a DFunUnfolding, which is</span><span>
</span><a name="line-1016"></a><span class="hs-comment">--  never inlined other than via exprIsConApp_maybe.)</span><span>
</span><a name="line-1017"></a><a name="dfunInlinePragma"><a href="BasicTypes.html#dfunInlinePragma"><span class="hs-identifier">dfunInlinePragma</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#defaultInlinePragma"><span class="hs-identifier hs-var">defaultInlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_act</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>
</span><a name="line-1018"></a><span>                                         </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_rule</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#ConLike"><span class="hs-identifier hs-var">ConLike</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1019"></a><span>
</span><a name="line-1020"></a><span class="hs-identifier">isDefaultInlinePragma</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1021"></a><a name="isDefaultInlinePragma"><a href="BasicTypes.html#isDefaultInlinePragma"><span class="hs-identifier">isDefaultInlinePragma</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-var">InlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_act</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489459"><a href="#local-1627489459"><span class="hs-identifier">activation</span></a></a><span>
</span><a name="line-1022"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_rule</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489460"><a href="#local-1627489460"><span class="hs-identifier">match_info</span></a></a><span>
</span><a name="line-1023"></a><span>                                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489461"><a href="#local-1627489461"><span class="hs-identifier">inline</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1024"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#isEmptyInlineSpec"><span class="hs-identifier hs-var">isEmptyInlineSpec</span></a><span> </span><a href="#local-1627489461"><span class="hs-identifier hs-var">inline</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="BasicTypes.html#isAlwaysActive"><span class="hs-identifier hs-var">isAlwaysActive</span></a><span> </span><a href="#local-1627489459"><span class="hs-identifier hs-var">activation</span></a><span> </span><span class="hs-operator hs-var">&amp;&amp;</span><span> </span><a href="BasicTypes.html#isFunLike"><span class="hs-identifier hs-var">isFunLike</span></a><span> </span><a href="#local-1627489460"><span class="hs-identifier hs-var">match_info</span></a><span>
</span><a name="line-1025"></a><span>
</span><a name="line-1026"></a><span class="hs-identifier">isInlinePragma</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1027"></a><a name="isInlinePragma"><a href="BasicTypes.html#isInlinePragma"><span class="hs-identifier">isInlinePragma</span></a></a><span> </span><a name="local-1627489462"><a href="#local-1627489462"><span class="hs-identifier">prag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><a href="#local-1627489462"><span class="hs-identifier hs-var">prag</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1028"></a><span>                        </span><a href="BasicTypes.html#Inline"><span class="hs-identifier hs-var">Inline</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1029"></a><span>                        </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1030"></a><span>
</span><a name="line-1031"></a><span class="hs-identifier">isInlinablePragma</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1032"></a><a name="isInlinablePragma"><a href="BasicTypes.html#isInlinablePragma"><span class="hs-identifier">isInlinablePragma</span></a></a><span> </span><a name="local-1627489463"><a href="#local-1627489463"><span class="hs-identifier">prag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><a href="#local-1627489463"><span class="hs-identifier hs-var">prag</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1033"></a><span>                           </span><a href="BasicTypes.html#Inlinable"><span class="hs-identifier hs-var">Inlinable</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1034"></a><span>                           </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1035"></a><span>
</span><a name="line-1036"></a><span class="hs-identifier">isAnyInlinePragma</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1037"></a><span class="hs-comment">-- INLINE or INLINABLE</span><span>
</span><a name="line-1038"></a><a name="isAnyInlinePragma"><a href="BasicTypes.html#isAnyInlinePragma"><span class="hs-identifier">isAnyInlinePragma</span></a></a><span> </span><a name="local-1627489464"><a href="#local-1627489464"><span class="hs-identifier">prag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><a href="#local-1627489464"><span class="hs-identifier hs-var">prag</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1039"></a><span>                        </span><a href="BasicTypes.html#Inline"><span class="hs-identifier hs-var">Inline</span></a><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1040"></a><span>                        </span><a href="BasicTypes.html#Inlinable"><span class="hs-identifier hs-var">Inlinable</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1041"></a><span>                        </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1042"></a><span>
</span><a name="line-1043"></a><span class="hs-identifier">inlinePragmaSat</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="BasicTypes.html#Arity"><span class="hs-identifier hs-type">Arity</span></a><span>
</span><a name="line-1044"></a><a name="inlinePragmaSat"><a href="BasicTypes.html#inlinePragmaSat"><span class="hs-identifier">inlinePragmaSat</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">inl_sat</span><span>
</span><a name="line-1045"></a><span>
</span><a name="line-1046"></a><span class="hs-identifier">inlinePragmaActivation</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span>
</span><a name="line-1047"></a><a name="inlinePragmaActivation"><a href="BasicTypes.html#inlinePragmaActivation"><span class="hs-identifier">inlinePragmaActivation</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-var">InlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_act</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489465"><a href="#local-1627489465"><span class="hs-identifier">activation</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489465"><span class="hs-identifier hs-var">activation</span></a><span>
</span><a name="line-1048"></a><span>
</span><a name="line-1049"></a><span class="hs-identifier">inlinePragmaRuleMatchInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span>
</span><a name="line-1050"></a><a name="inlinePragmaRuleMatchInfo"><a href="BasicTypes.html#inlinePragmaRuleMatchInfo"><span class="hs-identifier">inlinePragmaRuleMatchInfo</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-var">InlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_rule</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489466"><a href="#local-1627489466"><span class="hs-identifier">info</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489466"><span class="hs-identifier hs-var">info</span></a><span>
</span><a name="line-1051"></a><span>
</span><a name="line-1052"></a><span class="hs-identifier">setInlinePragmaActivation</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span>
</span><a name="line-1053"></a><a name="setInlinePragmaActivation"><a href="BasicTypes.html#setInlinePragmaActivation"><span class="hs-identifier">setInlinePragmaActivation</span></a></a><span> </span><a name="local-1627489467"><a href="#local-1627489467"><span class="hs-identifier">prag</span></a></a><span> </span><a name="local-1627489468"><a href="#local-1627489468"><span class="hs-identifier">activation</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489467"><span class="hs-identifier hs-var">prag</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_act</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489468"><span class="hs-identifier hs-var">activation</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1054"></a><span>
</span><a name="line-1055"></a><span class="hs-identifier">setInlinePragmaRuleMatchInfo</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span>
</span><a name="line-1056"></a><a name="setInlinePragmaRuleMatchInfo"><a href="BasicTypes.html#setInlinePragmaRuleMatchInfo"><span class="hs-identifier">setInlinePragmaRuleMatchInfo</span></a></a><span> </span><a name="local-1627489469"><a href="#local-1627489469"><span class="hs-identifier">prag</span></a></a><span> </span><a name="local-1627489470"><a href="#local-1627489470"><span class="hs-identifier">info</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489469"><span class="hs-identifier hs-var">prag</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_rule</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489470"><span class="hs-identifier hs-var">info</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1057"></a><span>
</span><a name="line-1058"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1059"></a><span>   </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;ALWAYS&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-1060"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;NEVER&quot;</span><span class="hs-special">)</span><span>
</span><a name="line-1061"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489507"><a href="#local-1627489507"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'~'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#int"><span class="hs-identifier hs-var">int</span></a><span> </span><a href="#local-1627489507"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-1062"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span>  </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489508"><a href="#local-1627489508"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#int"><span class="hs-identifier hs-var">int</span></a><span> </span><a href="#local-1627489508"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-1063"></a><span>
</span><a name="line-1064"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1065"></a><span>   </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#ConLike"><span class="hs-identifier hs-var">ConLike</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;CONLIKE&quot;</span><span>
</span><a name="line-1066"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#FunLike"><span class="hs-identifier hs-var">FunLike</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;FUNLIKE&quot;</span><span>
</span><a name="line-1067"></a><span>
</span><a name="line-1068"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1069"></a><span>   </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#Inline"><span class="hs-identifier hs-var">Inline</span></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;INLINE&quot;</span><span>
</span><a name="line-1070"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#NoInline"><span class="hs-identifier hs-var">NoInline</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;NOINLINE&quot;</span><span>
</span><a name="line-1071"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#Inlinable"><span class="hs-identifier hs-var">Inlinable</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;INLINABLE&quot;</span><span>
</span><a name="line-1072"></a><span>   </span><span class="hs-identifier">ppr</span><span> </span><a href="BasicTypes.html#EmptyInlineSpec"><span class="hs-identifier hs-var">EmptyInlineSpec</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1073"></a><span>
</span><a name="line-1074"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1075"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#InlinePragma"><span class="hs-identifier hs-var">InlinePragma</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">inl_inline</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489498"><a href="#local-1627489498"><span class="hs-identifier">inline</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_act</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489499"><a href="#local-1627489499"><span class="hs-identifier">activation</span></a></a><span>
</span><a name="line-1076"></a><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_rule</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489500"><a href="#local-1627489500"><span class="hs-identifier">info</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">inl_sat</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489501"><a href="#local-1627489501"><span class="hs-identifier">mb_arity</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1077"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627489498"><span class="hs-identifier hs-var">inline</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="#local-1627489502"><span class="hs-identifier hs-var">pp_act</span></a><span> </span><a href="#local-1627489498"><span class="hs-identifier hs-var">inline</span></a><span> </span><a href="#local-1627489499"><span class="hs-identifier hs-var">activation</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-1627489503"><span class="hs-identifier hs-var">pp_sat</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-1627489504"><span class="hs-identifier hs-var">pp_info</span></a><span>
</span><a name="line-1078"></a><span>    </span><span class="hs-keyword">where</span><span>
</span><a name="line-1079"></a><span>      </span><a name="local-1627489502"><a href="#local-1627489502"><span class="hs-identifier">pp_act</span></a></a><span> </span><a href="BasicTypes.html#Inline"><span class="hs-identifier hs-var">Inline</span></a><span>   </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1080"></a><span>      </span><span class="hs-identifier">pp_act</span><span> </span><a href="BasicTypes.html#NoInline"><span class="hs-identifier hs-var">NoInline</span></a><span> </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1081"></a><span>      </span><span class="hs-identifier">pp_act</span><span> </span><span class="hs-identifier">_</span><span>        </span><a name="local-1627489505"><a href="#local-1627489505"><span class="hs-identifier">act</span></a></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627489505"><span class="hs-identifier hs-var">act</span></a><span>
</span><a name="line-1082"></a><span>
</span><a name="line-1083"></a><span>      </span><a name="local-1627489503"><a href="#local-1627489503"><span class="hs-identifier">pp_sat</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-1627489506"><a href="#local-1627489506"><span class="hs-identifier">ar</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-1627489501"><span class="hs-identifier hs-var">mb_arity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;sat-args=&quot;</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#int"><span class="hs-identifier hs-var">int</span></a><span> </span><a href="#local-1627489506"><span class="hs-identifier hs-var">ar</span></a><span class="hs-special">)</span><span>
</span><a name="line-1084"></a><span>             </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1085"></a><span>      </span><a name="local-1627489504"><a href="#local-1627489504"><span class="hs-identifier">pp_info</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="BasicTypes.html#isFunLike"><span class="hs-identifier hs-var">isFunLike</span></a><span> </span><a href="#local-1627489500"><span class="hs-identifier hs-var">info</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span>
</span><a name="line-1086"></a><span>              </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-1627489500"><span class="hs-identifier hs-var">info</span></a><span>
</span><a name="line-1087"></a><span>
</span><a name="line-1088"></a><span class="hs-identifier">isActive</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#CompilerPhase"><span class="hs-identifier hs-type">CompilerPhase</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1089"></a><a name="isActive"><a href="BasicTypes.html#isActive"><span class="hs-identifier">isActive</span></a></a><span> </span><a href="BasicTypes.html#InitialPhase"><span class="hs-identifier hs-var">InitialPhase</span></a><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1090"></a><span class="hs-identifier">isActive</span><span> </span><a href="BasicTypes.html#InitialPhase"><span class="hs-identifier hs-var">InitialPhase</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1091"></a><span class="hs-identifier">isActive</span><span> </span><a href="BasicTypes.html#InitialPhase"><span class="hs-identifier hs-var">InitialPhase</span></a><span> </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1092"></a><span class="hs-identifier">isActive</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Phase"><span class="hs-identifier hs-var">Phase</span></a><span> </span><a name="local-1627489471"><a href="#local-1627489471"><span class="hs-identifier">p</span></a></a><span class="hs-special">)</span><span>    </span><a name="local-1627489472"><a href="#local-1627489472"><span class="hs-identifier">act</span></a></a><span>               </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#isActiveIn"><span class="hs-identifier hs-var">isActiveIn</span></a><span> </span><a href="#local-1627489471"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-1627489472"><span class="hs-identifier hs-var">act</span></a><span>
</span><a name="line-1093"></a><span>
</span><a name="line-1094"></a><span class="hs-identifier">isActiveIn</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#PhaseNum"><span class="hs-identifier hs-type">PhaseNum</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1095"></a><a name="isActiveIn"><a href="BasicTypes.html#isActiveIn"><span class="hs-identifier">isActiveIn</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1096"></a><span class="hs-identifier">isActiveIn</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1097"></a><span class="hs-identifier">isActiveIn</span><span> </span><a name="local-1627489473"><a href="#local-1627489473"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489474"><a href="#local-1627489474"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489473"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&lt;=</span><span> </span><a href="#local-1627489474"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1098"></a><span class="hs-identifier">isActiveIn</span><span> </span><a name="local-1627489475"><a href="#local-1627489475"><span class="hs-identifier">p</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489476"><a href="#local-1627489476"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489475"><span class="hs-identifier hs-var">p</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span>  </span><a href="#local-1627489476"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1099"></a><span>
</span><a name="line-1100"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1101"></a><span class="hs-comment">-- See Note [Activation competition]</span><span>
</span><a name="line-1102"></a><a name="competesWith"><a href="BasicTypes.html#competesWith"><span class="hs-identifier">competesWith</span></a></a><span> </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span>       </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1103"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-identifier">_</span><span>                 </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1104"></a><span class="hs-identifier">competesWith</span><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>      </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1105"></a><span>
</span><a name="line-1106"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1107"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1108"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489477"><a href="#local-1627489477"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489478"><a href="#local-1627489478"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489477"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&lt;</span><span> </span><a href="#local-1627489478"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-1109"></a><span>
</span><a name="line-1110"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1111"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1112"></a><span class="hs-identifier">competesWith</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489479"><a href="#local-1627489479"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveAfter"><span class="hs-identifier hs-var">ActiveAfter</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-1627489480"><a href="#local-1627489480"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489479"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-operator hs-var">&gt;=</span><span> </span><a href="#local-1627489480"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-1113"></a><span>
</span><a name="line-1114"></a><span class="hs-comment">{- Note [Competing activations]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Sometimes a RULE and an inlining may compete, or two RULES.
See Note [Rules and inlining/other rules] in Desugar.

We say that act1 &quot;competes with&quot; act2 iff
   act1 is active in the phase when act2 *becomes* active
NB: remember that phases count *down*: 2, 1, 0!

It's too conservative to ensure that the two are never simultaneously
active.  For example, a rule might be always active, and an inlining
might switch on in phase 2.  We could switch off the rule, but it does
no harm.
-}</span><span>
</span><a name="line-1128"></a><span>
</span><a name="line-1129"></a><span class="hs-identifier">isNeverActive</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">isAlwaysActive</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">isEarlyActive</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#Activation"><span class="hs-identifier hs-type">Activation</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1130"></a><a name="isNeverActive"><a href="BasicTypes.html#isNeverActive"><span class="hs-identifier">isNeverActive</span></a></a><span> </span><a href="BasicTypes.html#NeverActive"><span class="hs-identifier hs-var">NeverActive</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1131"></a><span class="hs-identifier">isNeverActive</span><span> </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1132"></a><span>
</span><a name="line-1133"></a><a name="isAlwaysActive"><a href="BasicTypes.html#isAlwaysActive"><span class="hs-identifier">isAlwaysActive</span></a></a><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1134"></a><span class="hs-identifier">isAlwaysActive</span><span> </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1135"></a><span>
</span><a name="line-1136"></a><a name="isEarlyActive"><a href="BasicTypes.html#isEarlyActive"><span class="hs-identifier">isEarlyActive</span></a></a><span> </span><a href="BasicTypes.html#AlwaysActive"><span class="hs-identifier hs-var">AlwaysActive</span></a><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1137"></a><span class="hs-identifier">isEarlyActive</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#ActiveBefore"><span class="hs-identifier hs-var">ActiveBefore</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1138"></a><span class="hs-identifier">isEarlyActive</span><span> </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1139"></a><span>
</span><a name="line-1140"></a><span class="hs-comment">-- Used (instead of Rational) to represent exactly the floating point literal that we</span><span>
</span><a name="line-1141"></a><span class="hs-comment">-- encountered in the user's source program. This allows us to pretty-print exactly what</span><span>
</span><a name="line-1142"></a><span class="hs-comment">-- the user wrote, which is important e.g. for floating point numbers that can't represented</span><span>
</span><a name="line-1143"></a><span class="hs-comment">-- as Doubles (we used to via Double for pretty-printing). See also #2245.</span><span>
</span><a name="line-1144"></a><span class="hs-keyword">data</span><span> </span><a name="FractionalLit"><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier">FractionalLit</span></a></a><span>
</span><a name="line-1145"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="FL"><a href="BasicTypes.html#FL"><span class="hs-identifier">FL</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a href="BasicTypes.html#fl_text"><span class="hs-identifier">fl_text</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a><span>         </span><span class="hs-comment">-- How the value was written in the source</span><span>
</span><a name="line-1146"></a><span>       </span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#fl_value"><span class="hs-identifier">fl_value</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Real.html#Rational"><span class="hs-identifier hs-type">Rational</span></a><span>      </span><span class="hs-comment">-- Numeric value of the literal</span><span>
</span><a name="line-1147"></a><span>       </span><span class="hs-special">}</span><span>
</span><a name="line-1148"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Typeable.Internal.html#Typeable"><span class="hs-identifier hs-type">Typeable</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span class="hs-special">)</span><span>
</span><a name="line-1149"></a><span>  </span><span class="hs-comment">-- The Show instance is required for the derived Lexer.x:Token instance when DEBUG is on</span><span>
</span><a name="line-1150"></a><span>
</span><a name="line-1151"></a><span class="hs-identifier">negateFractionalLit</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span>
</span><a name="line-1152"></a><a name="negateFractionalLit"><a href="BasicTypes.html#negateFractionalLit"><span class="hs-identifier">negateFractionalLit</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#FL"><span class="hs-identifier hs-var">FL</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fl_text</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-char">'-'</span><span class="hs-glyph">:</span><a name="local-1627489481"><a href="#local-1627489481"><span class="hs-identifier">text</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fl_value</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489482"><a href="#local-1627489482"><span class="hs-identifier">value</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#FL"><span class="hs-identifier hs-var">FL</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fl_text</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489481"><span class="hs-identifier hs-var">text</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fl_value</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#negate"><span class="hs-identifier hs-var">negate</span></a><span> </span><a href="#local-1627489482"><span class="hs-identifier hs-var">value</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1153"></a><span class="hs-identifier">negateFractionalLit</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#FL"><span class="hs-identifier hs-var">FL</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fl_text</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489483"><a href="#local-1627489483"><span class="hs-identifier">text</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fl_value</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-1627489484"><a href="#local-1627489484"><span class="hs-identifier">value</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#FL"><span class="hs-identifier hs-var">FL</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fl_text</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-char">'-'</span><span class="hs-glyph">:</span><a href="#local-1627489483"><span class="hs-identifier hs-var">text</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fl_value</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#negate"><span class="hs-identifier hs-var">negate</span></a><span> </span><a href="#local-1627489484"><span class="hs-identifier hs-var">value</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1154"></a><span>
</span><a name="line-1155"></a><span class="hs-identifier">integralFractionalLit</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Integer</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span>
</span><a name="line-1156"></a><a name="integralFractionalLit"><a href="BasicTypes.html#integralFractionalLit"><span class="hs-identifier">integralFractionalLit</span></a></a><span> </span><a name="local-1627489485"><a href="#local-1627489485"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#FL"><span class="hs-identifier hs-var">FL</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">fl_text</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-1627489485"><span class="hs-identifier hs-var">i</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">fl_value</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a><span> </span><a href="#local-1627489485"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1157"></a><span>
</span><a name="line-1158"></a><span class="hs-comment">-- Comparison operations are needed when grouping literals</span><span>
</span><a name="line-1159"></a><span class="hs-comment">-- for compiling pattern-matching (module MatchLit)</span><span>
</span><a name="line-1160"></a><span>
</span><a name="line-1161"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1162"></a><span>  </span><span class="hs-special">(</span><a name="local-805306535"><span class="hs-operator">==</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Function.html#on"><span class="hs-identifier hs-var">on</span></a><span class="hs-special">`</span><span> </span><span class="hs-identifier">fl_value</span><span>
</span><a name="line-1163"></a><span>
</span><a name="line-1164"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1165"></a><span>  </span><a name="local-1912608689"><span class="hs-identifier">compare</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare</span><span> </span><span class="hs-special">`</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Function.html#on"><span class="hs-identifier hs-var">on</span></a><span class="hs-special">`</span><span> </span><span class="hs-identifier">fl_value</span><span>
</span><a name="line-1166"></a><span>
</span><a name="line-1167"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1168"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><span class="hs-identifier">fl_text</span><span>
</span><a name="line-1169"></a><span>
</span><a name="line-1170"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
    IntWithInf
*                                                                      *
************************************************************************

Represents an integer or positive infinity

-}</span><span>
</span><a name="line-1180"></a><span>
</span><a name="line-1181"></a><span class="hs-comment">-- | An integer or infinity</span><span>
</span><a name="line-1182"></a><span class="hs-keyword">data</span><span> </span><a name="IntWithInf"><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier">IntWithInf</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Int"><a href="BasicTypes.html#Int"><span class="hs-identifier">Int</span></a></a><span> </span><span class="hs-pragma">{-# UNPACK #-}</span><span> </span><span class="hs-glyph">!</span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-1183"></a><span>                </span><span class="hs-glyph">|</span><span> </span><a name="Infinity"><a href="BasicTypes.html#Infinity"><span class="hs-identifier">Infinity</span></a></a><span>
</span><a name="line-1184"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-identifier hs-type">Eq</span><span>
</span><a name="line-1185"></a><span>
</span><a name="line-1186"></a><span class="hs-comment">-- | A representation of infinity</span><span>
</span><a name="line-1187"></a><span class="hs-identifier">infinity</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span>
</span><a name="line-1188"></a><a name="infinity"><a href="BasicTypes.html#infinity"><span class="hs-identifier">infinity</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1189"></a><span>
</span><a name="line-1190"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1191"></a><span>  </span><a name="local-1912608689"><span class="hs-identifier">compare</span></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">EQ</span><span>
</span><a name="line-1192"></a><span>  </span><span class="hs-identifier">compare</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">LT</span><span>
</span><a name="line-1193"></a><span>  </span><span class="hs-identifier">compare</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">GT</span><span>
</span><a name="line-1194"></a><span>  </span><span class="hs-identifier">compare</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489496"><a href="#local-1627489496"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489497"><a href="#local-1627489497"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489496"><span class="hs-identifier hs-var">a</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">compare</span><span class="hs-special">`</span><span> </span><a href="#local-1627489497"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-1195"></a><span>
</span><a name="line-1196"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1197"></a><span>  </span><a name="local-1912686315"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'&#8734;'</span><span>
</span><a name="line-1198"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489495"><a href="#local-1627489495"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#int"><span class="hs-identifier hs-var">int</span></a><span> </span><a href="#local-1627489495"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1199"></a><span>
</span><a name="line-1200"></a><span class="hs-keyword">instance</span><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#Num"><span class="hs-identifier hs-type">Num</span></a><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1201"></a><span>  </span><span class="hs-special">(</span><a name="local-1912608626"><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#%2B"><span class="hs-operator">+</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#plusWithInf"><span class="hs-identifier hs-var">plusWithInf</span></a><span>
</span><a name="line-1202"></a><span>  </span><span class="hs-special">(</span><a name="local-1912608625"><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#%2A"><span class="hs-operator">*</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#mulWithInf"><span class="hs-identifier hs-var">mulWithInf</span></a><span>
</span><a name="line-1203"></a><span>
</span><a name="line-1204"></a><span>  </span><a name="local-1912608624"><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#abs"><span class="hs-identifier">abs</span></a></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1205"></a><span>  </span><span class="hs-identifier">abs</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489493"><a href="#local-1627489493"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#abs"><span class="hs-identifier hs-var">abs</span></a><span> </span><a href="#local-1627489493"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-1206"></a><span>
</span><a name="line-1207"></a><span>  </span><a name="local-1912608623"><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#signum"><span class="hs-identifier">signum</span></a></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-number">1</span><span>
</span><a name="line-1208"></a><span>  </span><span class="hs-identifier">signum</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489494"><a href="#local-1627489494"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#signum"><span class="hs-identifier hs-var">signum</span></a><span> </span><a href="#local-1627489494"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span>
</span><a name="line-1209"></a><span>
</span><a name="line-1210"></a><span>  </span><a name="local-805306528"><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#fromInteger"><span class="hs-identifier">fromInteger</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#fromInteger"><span class="hs-identifier hs-var">fromInteger</span></a><span>
</span><a name="line-1211"></a><span>
</span><a name="line-1212"></a><span>  </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Panic.html#panic"><span class="hs-identifier hs-var">panic</span></a><span> </span><span class="hs-string">&quot;subtracting IntWithInfs&quot;</span><span>
</span><a name="line-1213"></a><span>
</span><a name="line-1214"></a><span class="hs-identifier">intGtLimit</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1215"></a><a name="intGtLimit"><a href="BasicTypes.html#intGtLimit"><span class="hs-identifier">intGtLimit</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1216"></a><span class="hs-identifier">intGtLimit</span><span> </span><a name="local-1627489486"><a href="#local-1627489486"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489487"><a href="#local-1627489487"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-1627489486"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-operator hs-var">&gt;</span><span> </span><a href="#local-1627489487"><span class="hs-identifier hs-var">m</span></a><span>
</span><a name="line-1217"></a><span>
</span><a name="line-1218"></a><span class="hs-comment">-- | Add two 'IntWithInf's</span><span>
</span><a name="line-1219"></a><span class="hs-identifier">plusWithInf</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span>
</span><a name="line-1220"></a><a name="plusWithInf"><a href="BasicTypes.html#plusWithInf"><span class="hs-identifier">plusWithInf</span></a></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1221"></a><span class="hs-identifier">plusWithInf</span><span> </span><span class="hs-identifier">_</span><span>        </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1222"></a><span class="hs-identifier">plusWithInf</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489488"><a href="#local-1627489488"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489489"><a href="#local-1627489489"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627489488"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a><span> </span><a href="#local-1627489489"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-1223"></a><span>
</span><a name="line-1224"></a><span class="hs-comment">-- | Multiply two 'IntWithInf's</span><span>
</span><a name="line-1225"></a><span class="hs-identifier">mulWithInf</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span>
</span><a name="line-1226"></a><a name="mulWithInf"><a href="BasicTypes.html#mulWithInf"><span class="hs-identifier">mulWithInf</span></a></a><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1227"></a><span class="hs-identifier">mulWithInf</span><span> </span><span class="hs-identifier">_</span><span>        </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1228"></a><span class="hs-identifier">mulWithInf</span><span> </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489490"><a href="#local-1627489490"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a name="local-1627489491"><a href="#local-1627489491"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><span class="hs-special">(</span><a href="#local-1627489490"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="../base-4.9.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a><span> </span><a href="#local-1627489491"><span class="hs-identifier hs-var">b</span></a><span class="hs-special">)</span><span>
</span><a name="line-1229"></a><span>
</span><a name="line-1230"></a><span class="hs-comment">-- | Turn a positive number into an 'IntWithInf', where 0 represents infinity</span><span>
</span><a name="line-1231"></a><span class="hs-identifier">treatZeroAsInf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span>
</span><a name="line-1232"></a><a name="treatZeroAsInf"><a href="BasicTypes.html#treatZeroAsInf"><span class="hs-identifier">treatZeroAsInf</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Infinity"><span class="hs-identifier hs-var">Infinity</span></a><span>
</span><a name="line-1233"></a><span class="hs-identifier">treatZeroAsInf</span><span> </span><a name="local-1627489492"><a href="#local-1627489492"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span> </span><a href="#local-1627489492"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1234"></a><span>
</span><a name="line-1235"></a><span class="hs-comment">-- | Inject any integer into an 'IntWithInf'</span><span>
</span><a name="line-1236"></a><span class="hs-identifier">mkIntWithInf</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#IntWithInf"><span class="hs-identifier hs-type">IntWithInf</span></a><span>
</span><a name="line-1237"></a><a name="mkIntWithInf"><a href="BasicTypes.html#mkIntWithInf"><span class="hs-identifier">mkIntWithInf</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#Int"><span class="hs-identifier hs-var">Int</span></a><span>
</span><a name="line-1238"></a></pre></body></html>